function setCookie(n,t){var i=escape(t);document.cookie=n+"="+i+";expires=Thu, 01 Jan 2030 00:00:01 GMT;domain=.sololearn.com;path=/"}window.material=window.material||{};window.material.easings={swiftIn:[.4,0,.2,1],swiftOut:[.8,0,.6,1]};$(function(){var n=null;$(document.body).on("mousedown",".materialButton, .materialIcon, .actionButton, .materialResponse",function(t){var r=$(this),i=r.data("materialWave"),u,f;i==null&&(u=Math.sqrt(Math.pow(r.outerWidth(),2)+Math.pow(r.outerHeight(),2))||80,i={$elem:$('<i class="materialWave" style="width:'+u*2+"px;height:"+u*2+'px;"><\/i>'),radius:u},r.append(i.$elem),r.data("materialWave",i));n=i.$elem;f=r.offset();n.velocity("stop");n.css({left:t.pageX-f.left-i.radius+"px",top:t.pageY-f.top-i.radius+"px",opacity:1});n.velocity({scaleX:[1,0],scaleY:[1,0]},{easing:material.easings.swiftIn,duration:700})}).mouseup(function(){n!=null&&n.velocity({opacity:0},{easing:material.easings.swiftOut,delay:100,duration:500,queue:!1})})});$(function(){$(".sandwichButton").click(function(){var i,n,t;if($(document.body).toggleClass("contextMenu"),app.isMobile)if($(document.body).hasClass("contextMenu"))i=navigator.userAgent.match(/iPad/i)!=null,(window.orientation==90||window.orientation==-90||i)&&(n=$("#sidebar #profile"),t=n.clone(),ko.applyBindings(ko.dataFor(app.ViewService.$app[0]),t[0]),t.addClass("show fixedProfile"),n.addClass("hide"),$(document.body).append(t));else if($(".fixedProfile").length>0)$(".fixedProfile").remove(),n.removeClass("hide");else return});$("#banner").on("click",".bannerClose",function(){var n=$(this),t=n.closest("#banner");t.addClass("hide");setCookie("bannerClosed",new Date)})}),function(){$.support.cors=!0;var n={host:"https://api.sololearn.com/web/",downloadHost:"https://api.sololearn.com/uploads/",clientID:"Web.SoloLearn.JavaScript",version:"1.0.0.0",isMobile:!1,width:800};n.convert={secondsToTime:function(n,t){var i=Math.floor(n/60)||0,r=n%60||0;return i<10&&!t&&(i="0"+i),r<10&&(r="0"+r),i+":"+r}};n.util={shuffle:function(n){n=n.slice(0);for(var i,r,t=n.length;t;i=parseInt(Math.random()*t),r=n[--t],n[t]=n[i],n[i]=r);return n},parseHex:function(n){var t;return n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,t,i,r){return t+t+i+i+r+r}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),shiftedString:function(n){for(var r=["r","g","b"],i="rgb(",t=0;t<3;t++)i+=Math.min(Math.max(0,this[r[t]]+n),255)+(t<2?",":")");return i},brightenString:function(n){for(var r,u=["r","g","b"],i="rgb(",t=0;t<3;t++)r=this[u[t]],i+=Math.round((255-r)*n+r)+(t<2?",":")");return console.log(i),i}}}};n.texts={headerPoints:"XP",splashInitializing:"Initializing...",achievementUnlockedText:"Achievement Unlocked!",popupYes:"Yes",popupNo:"No",popupOk:"OK",popupCancel:"Cancel",popupRetry:"Retry",hintHintConfirmText:"Use {points} points to get a hint",hintHintConfirmApply:"OK",hintSkipConfirmText:"Use {points} points to unlock the correct answer",hintSkipConfirmApply:"Unlock",hintNoEnoughPoints:"You don't have enough points to use this feature.",hintSkipTip:"Unlock the answer",hintHintTip:"Get a hint",leaderboard:"Leaderboard",leaderboardPoints:"{xp} XP",leaderboardLink:"[View]",profileLink:"[View]",congratsTitle:"Congratulations",congratsPendingTitle:"Certificate",congratsPoints:"Points: {points}",congratsContinue:"Continue Learning",congratsShare:"Share",congratsPending:"Complete the course to unlock your certificate",congratsComplete:"You have successfully completed the <nobr>{course}<\/nobr> course",quizResultWrong:"Wrong",quizResultCorrect:"Correct!",quizAttempts:"Attempt: ",quizResultWrongBackToVideo:"Back",resetProgressConfirmText:"All your progress on this course will be lost. Are you sure you want to continue?",shortcutButton:"TAKE A SHORTCUT",closeShortcut:"Are you sure you want to leave the test?",shortcutAttempts:"Lives: ",shortcutFailed:"Test out failed. You ran out of lives.",shortcutSucceed:"You have successfully completed the test!"};n.progressActions={encouragingText:{type:"text",text:"You are doing great! Keep up the pace!"}};n.executeProgressAction=function(){var r=n.Storage.load("progressActions")||[],u=[],i;for(var t in n.progressActions)u.push(t);if(i=n.util.shuffle(u.filter(function(n){return!r.some(function(t){return t==n})})),i.length!=0){r.push(i[0]);n.Storage.save("progressActions",r);t=n.progressActions[i[0]];switch(t.type){case"text":n.PopupService.showMessage(t.text)}}};n.events={mousemove:"mousemove",mouseup:"mouseup",mousedown:"mousedown",container:window};n.setAsMobileDevice=function(){n.events.mousedown="touchstart";n.events.mouseup="touchend";n.events.mousemove="touchmove";n.events.container=document.body;n.isMobile=!0};n.ConfirmPopup=function(){var t={},n=$('<div class="popupOverlay confirmPopup appConfirm"><div class="popupWrapper"><div class="popup"><div class="popupContent"><\/div><div class="popupButtons"><button class="materialButton primary elevated" data-action="submit"><\/button><button class="materialButton elevated" data-action="cancel"><\/button><\/div><\/div><\/div><\/div>'),i=n.find(".popupContent"),u=n.find(".popupButtons"),r=null;n.find(".popupButtons").on("click","button",function(){var n=$(this),i=n.attr("data-action");t.close();typeof r=="function"&&r(i=="submit")});return t.open=function(t,f,e,o){i.empty();i.append(t);u.find('button[data-action="submit"]').text(f);u.find('button[data-action="cancel"]').text(e);n.stop(!0,!1);n.css({opacity:0,display:"table"}).animate({opacity:1});r=o},t.close=function(){n.animate({opacity:0},function(){n.css({opacity:0,display:"none"});i.empty()})},$(document.body).append(n),t}();n.ErrorPopup=function(){var t={},n=$('<div class="popupOverlay confirmPopup appConfirm"><div class="popupWrapper"><div class="popup"><div class="popupContent"><\/div><div class="popupButtons"><button class="materialButton primary elevated" data-action="submit"><\/button><\/div><\/div><\/div><\/div>'),i=n.find(".popupContent"),u=n.find(".popupButtons"),r=null;n.find(".popupButtons").on("click","button",function(){var n=$(this),i=n.attr("data-action");t.close();typeof r=="function"&&r(i=="submit")});return t.open=function(t,f){i.empty();i.append(t);u.find('button[data-action="submit"]').text(buttonText);n.stop(!0,!1);n.css({opacity:0,display:"table"}).animate({opacity:1});r=f},t.close=function(){n.animate({opacity:0},function(){n.css({opacity:0,display:"none"});i.empty()})},$(document.body).append(n),t}();window.app=n}(window);ko.extenders.required=function(n,t){function i(i){n.hasError(i?!1:!0);n.className(i?"":"validation-error");n.validationMessage(i?"":t||"This field is required")}return n.hasError=ko.observable(),n.className=ko.observable(""),n.validationMessage=ko.observable(),i(n()),n.subscribe(i),n};Array.prototype.filter||(Array.prototype.filter=function(n){"use strict";var i,f,r,e,t,u;if(this===void 0||this===null)throw new TypeError;if(i=Object(this),f=i.length>>>0,typeof n!="function")throw new TypeError;for(r=[],e=arguments.length>=2?arguments[1]:void 0,t=0;t<f;t++)t in i&&(u=i[t],n.call(e,u,t,i)&&r.push(u));return r});Array.prototype.some||(Array.prototype.some=function(n){"use strict";var t;if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof n!="function")throw new TypeError;var i=Object(this),r=i.length>>>0,u=arguments.length>=2?arguments[1]:void 0;for(t=0;t<r;t++)if(t in i&&n.call(u,i[t],t,i))return!0;return!1}),function(n,t){"use strict";function i(n){var t=n.originalEvent.touches,i;t&&t.length>0&&(i=t[0],n.pageX=i.pageX,n.pageY=i.pageY)}var r,u;app.Easings={swiftIn:[.4,0,.2,1],swiftOut:[.8,0,.6,1]};$.fn.rippleFill=function(n){var i=$.extend({color:"rgba(255,255,255,0.3)",radius:10,delay:t,duration:200,easing:app.Easings.swiftIn,offsetX:t,offsetY:t,reverse:!1,begin:t,complete:t,mode:"fill"},n);return this.each(function(){var u=$(this),f=u.width(),e=u.height(),h=i.radius*2,n=i.offsetX,t=i.offsetY,r,o;typeof n=="number"?n<1&&n>0&&(n*=f):n=f/2;n-=i.radius;typeof t=="number"?t<1&&t>0&&(t*=e):t=e/2;t-=i.radius;r=Math.max(Math.max(n,f-n),Math.max(t,e-t))*1.2/i.radius;o=1;i.reverse&&(o=r,r=1);var s=$('<div style="overflow:hidden; position:absolute; left:0; top:0; width:'+f+"px; height:"+e+'px;"><div style="position:absolute; left:'+n+"px; top:"+t+"px; width:"+h+"px; height:"+h+"px; border-radius:"+i.radius+"px; background: "+i.color+'"><\/div><\/div>'),l=s.children(),c={scaleX:[r,o],scaleY:[r,o]};i.mode=="wave"&&(c.opacity=[0,1]);l.velocity(c,{delay:i.delay,duration:i.duration,easing:i.easing,begin:function(){u.prepend(s);typeof i.begin=="function"&&i.begin()},complete:function(){i.reverse||i.mode!="fill"||u.css("background-color",i.color);s.remove();typeof i.complete=="function"&&i.complete()}})})};r=function(n,t){function v(){e=l.outerWidth();r=c.width();a=c.offset().left;o=e/2;s=r-e/2}function y(n){if(!isNaN(n)){w.css("width",n+"px");u=n;var t=n;t<o?t=o:t>s&&(t=s);l.css("left",t+"px")}}function b(r){i(r);h=!0;n.addClass("active");$(app.events.container).on(app.events.mousemove,f).on(app.events.mouseup,p);return f(r),v(),typeof t.seekStart=="function"&&t.seekStart(),!1}function f(n){i(n);var t=n.pageX-a;return t<0?t=0:t>r&&(t=r),t!=u&&y(t),!1}function p(e){if(i(e),n.removeClass("active"),$(app.events.container).off(app.events.mousemove,f).off(app.events.mouseup,p),f(e),h=!1,typeof t.seek=="function"){console.log(t.min,t.max,u,r);var o=t.min+(t.max-t.min)*u/r;t.seek(o)}return!1}var c=n.find(t.track),l=n.find(t.scrub),w=n.find(t.mainBar),k=this,e=0,r=0,a=0,u=0,o=0,s=0,h=!1;this.setValue=function(n){h||(v(),y((n-t.min)/(t.max-t.min)*r))};this.setValue(t.value);n.on(app.events.mousedown,b)};$.fn.progressbar=function(n){var t,i;return typeof n=="string"?(t=Array.prototype.slice.call(arguments,1),this.each(function(){var r=$(this),i=r.data("progressBar");i&&i[n].apply(i,t)})):(i=$.extend({},{value:0,min:0,max:100,track:".track",scrub:".scrub",mainBar:".mainBar"},n),this.each(function(){var n=$(this),t=n.data("progressBar");t||(t=new r(n,i),n.data("progressBar",t))}))};u=function(t,i){function l(n){c=n;o.css("left",n+"px")}function a(){f=o.width();s=e.width();h=e.offset().left+f/2;r=s-f}function y(t){$(n).on("mousemove",u).on("mouseup",v);return u(t),a(),!1}function u(n){var t=n.pageX-h,u;return t<0?t=0:t>r&&(t=r),t!=c&&(l(t),typeof i.change=="function"&&(u=i.min+(i.max-i.min)*t/r,i.change(Math.round(u)))),!1}function v(t){return $(n).off("mousemove",u).off("mouseup",v),u(t),!1}var e=t.find(i.slider),o=t.find(i.scrub),p=this,f=0,s=0,h=0,c=0,r=0;this.setValue=function(n){a();l((n-i.min)/(i.max-i.min)*r)};this.setValue(i.value);t.on("mousedown",y)};$.fn.valueSlider=function(n){var t,i;return typeof n=="string"?(t=Array.prototype.slice.call(arguments,1),this.each(function(){var r=$(this),i=r.data("valueSlider");i&&i[n].apply(i,t)})):(i=$.extend({},{value:50,min:0,max:100,slider:".slider",scrub:".scrub"},n),this.each(function(){var n=$(this),t=n.data("valueSlider");t||(t=new u(n,i),n.data("valueSlider",t))}))};ko.bindingHandlers.slidervalue={init:function(n,t,i){var e=i(),r=t(),u=$(n),f={value:ko.unwrap(r)};ko.isObservable(r)&&(r.subscribe(function(n){u.valueSlider("setValue",n)}),ko.isWriteableObservable(r)&&(f.change=r));u.valueSlider(f)}};ko.bindingHandlers.progressbar={init:function(n,t,i){var o=i(),r=ko.unwrap(t()),u=$(n),e={value:ko.unwrap(r.value),seekStart:function(){var n=ko.unwrap(r.seekStart);typeof n=="function"&&n()},seek:function(n){var t=ko.unwrap(r.seek);typeof t=="function"&&t(n)}},f;ko.isObservable(r.value)&&r.value.subscribe(function(n){u.progressbar("setValue",n)});u.progressbar(e);app.isMobile&&(f=navigator.userAgent.match(/iPad/i)!=null,f&&($("#videoControls").addClass("safari-browser"),$(".skipVideoButton").addClass("safari-browser")))}}}(window);app.Storage=function(){var n={};return n.save=function(n,t){try{localStorage.setItem(n,JSON.stringify({data:t}))}catch(i){console.log("LocalStorageWriteFault: "+i.message+" D: "+i.description)}},n.load=function(n){var t=null;try{t=localStorage.getItem(n)}catch(i){console.log("LocalStorageReadFault: "+i.message+" D: "+i.description)}return t?JSON.parse(t).data:null},n.remove=function(n){try{localStorage.removeItem(n)}catch(t){console.log("LocalStorageRemoveFault: "+t.message+" D: "+t.description)}},n.clear=function(){try{localStorage.clear()}catch(n){console.log("LocalStorageClearFault: "+n.message+" D: "+n.description)}},n}();app.Audio=function(){var i={Correct:0,Wrong:1,Deleting:2,Achievement:3},n=!0,r,u,t,f;i.isMuted=function(){return n};i.toggleMute=function(t){return n=typeof t=="boolean"?t:!n,app.Storage.save("gameAudioMuted",n),n};n=app.Storage.load("gameAudioMuted")||!0;r=[];try{for(u=["/Content/Sounds/correct","/Content/Sounds/wrong","/Content/Sounds/deleting","/Content/Sounds/achievement_unlocked",],t=0;t<u.length;t++)f=new Audio,f.src=f.canPlayType("audio/mpeg")?u[t]+".mp3":u[t]+".wav",r.push(f)}catch(e){}return i.play=function(t){if(!n)try{r[t].currentTime=0;r[t].play()}catch(i){}},i}();app.ViewService=function(){function v(n){for(var i=0;i<=t&&i<r.length;i++)if(r[i].name==n.name)return i;return-1}function y(n){var i,u;n.name!="splashView"&&(i=v(n),console.log("navigateStack: from: "+t+" to: "+i),i==-1?(r.length>t+1&&r.splice(t+1,r.length-t+1),r.push(n),t++,window.history.pushState(""+t,"")):(u=i-t,t=i,u!=0&&history.go(u)))}function e(t,i,r,u){var o,e,f;(console.log("from:"+t,", to: "+i),app.isMobile&&$(document.body).hasClass("nav-up")&&$(document.body).removeClass("nav-up"),i!=null)&&(r=r||{},o=n.getTransition(t!=null?t.name:null,i.name),t!=null&&(e=ko.dataFor(t.$view[0]),e!=null&&typeof e.onNavigatedFrom=="function"&&e.onNavigatedFrom()),f=ko.dataFor(i.$view[0]),f!=null&&typeof f.onNavigatingTo=="function"&&f.onNavigatingTo(),o(t,i,r,function(){f!=null&&typeof f.onNavigatedTo=="function"&&f.onNavigatedTo();typeof u=="function"&&u()}),$("html, body").scrollTop(0).velocity("scroll",{duration:500,offset:0}),i.$view.css("z-index",(i.$view.hasClass("full")?5e3:0)+a++),n.$header.toggleClass("material",!i.$view.hasClass("elevated")),ga("send","screenview",{appName:app.clientID,appVersion:app.version,screenName:i.name}),n.currentView(i))}function p(n,t,i){n.$view.velocity("fadeOut",{duration:150,complete:function(){n.$view.removeAttr("style");typeof i=="function"&&i()}})}function w(n,t,i){n.$view.velocity("fadeIn",{duration:150,complete:i})}function c(t,i,r,u){var e,f,s,o;e="orientation"in window?window.orientation:$(window).width()>$(window).height()?90:0;f=$('meta[name="viewport"]');e==0||e==180?(app.width=400,r?f.attr("content","width=400, initial-scale=1, maximum-scale=1"):u?(app.width=800,f.attr("content","width=800, user-scalable=0")):f.attr("content","width=400, user-scalable=0"),u||($(".fixedProfile").removeClass("show").addClass("hide"),$("#profile").removeClass("hide"))):(e==90||e==-90)&&(app.width=600,i&&!u?f.attr("content","width=400, user-scalable=0, initial-scale="+t+", maximum-scale="+t+", minimum-scale="+t+""):r?f.attr("content","width=800, initial-scale=1, maximum-scale=1"):f.attr("content","width=800, user-scalable=0"),$(".fixedProfile").length>0||!$(document.body).hasClass("contextMenu")?($(".fixedProfile").removeClass("hide").addClass("show"),$("#profile").addClass("hide")):(s=$("#sidebar #profile"),o=s.clone(),ko.applyBindings(ko.dataFor(n.$app[0]),o[0]),o.addClass("show fixedProfile"),s.addClass("hide"),$(document.body).append(o)));$(window).trigger("afterResize")}function l(){f=!0;app.Audio.play(app.Audio.Achievement);n.currentAchievement(u[0]);setTimeout(function(){n.transitions.hideAchievement(function(){n.currentAchievement(null);u.splice(0,1);setTimeout(function(){u.length>0?l():f=!1},1e3)})},4e3)}var n={},i=null,o={},s={},h={},a=100,r,t,u,f;return history.scrollRestoration="manual",r=[],t=-1,n.currentView=ko.observable(),window.onpopstate=function(n){var u=parseInt(n.state),f;(console.log("navigatePop: from: "+t+" to: "+u),isNaN(u))||u!=t&&(t=u,f=i,i=r[t],n=n||{},n.navigationMode="backward",e(f,i,n))},n.removeFromStack=function(){},n.navigate=function(t,r,u){if(t!=null){var f=n.$app.find("#"+t),o=i;i={name:t,state:{},$view:f};y(i);e(o,i,r,u)}},n.goBack=function(n,t){if(r.length>0){var u=i;return i=r.pop(),n=n||{},n.navigationMode="backward",e(u,i,n,t),!0}return!1},n.registerTransition=function(n,t,i){o[n+t]=i},n.registerToTransition=function(n,t){s[n]=t},n.registerFromTransition=function(n,t){h[n]=t},n.getTransition=function(n,t){var r=o[n+t],i,u;return r?r:(i=s[t]||w,n==null)?function(n,t,r,u){i(t,r,u)}:(u=h[n]||p,function(n,t,r,f){u(n,r,function(){i(t,r,f)})})},$(function(){var t,i,r;n.$app=$("#app");n.$header=n.$app.find("#appHeader");n.navigate("splashView");t=new app.ViewModel;i=$("#sidebar");ko.applyBindings(t,n.$app[0]);i.length>0&&ko.applyBindings(t,i[0]);n.$app.css("min-height",window.innerHeight+"px");app.isMobile&&n.$app.addClass("isMobile");navigator.userAgent.match(/iPad|iPhone|iPod/g)&&!navigator.userAgent.match(/Windows Phone/i)?$(window).on("orientationchange",function(){var i=navigator.userAgent.match(/iPad/i)!=null,r=screen.height>screen.width?screen.height:screen.width,u=r/800,t;app.isMobile&&c(u,!0,!1,i);n.$app.css({minHeight:$(window).height()+"px"});t=$(".tooltip");t.removeClass("open");t.removeClass("left")}).trigger("orientationchange"):(r=!1,navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Firefox")>-1&&(r=!0),$(window).resize(function(){app.isMobile&&c(0,!1,r,!1);n.$app.css({minHeight:window.innerHeight+"px"});var t=$(".tooltip");t.removeClass("open");t.removeClass("left")}).trigger("resize"));app.Progress.points.subscribe(function(){n.transitions.pointFeedback()});$(document.body).on("touchstart",function(){})}),n.transitions={showQuizResult:function(){},showAchievement:function(){},hideAchievement:function(n){typeof n=="function"&&n()},pointFeedback:function(){}},u=[],f=!1,n.enqueueAchievement=function(n){console.log(n.title);u.push(n);f||l()},n.currentAchievement=ko.observable(null),n}();app.PopupService=function(){var n={},t,i;return n.popups=ko.observableArray([]),n.dim=ko.computed(function(){for(var t=this.popups(),n=0;n<t.length;n++)if(!t[n].isTransparent)return!0;return!1},n),n.show=function(t){n.popups.push(t)},n.showMessage=function(t){var i=new n.MessagePopup(t);return i.open(),i},n.showPrompt=function(t,i,r,u){var f=new n.MessagePopup(t);return typeof i=="string"&&f.yesText(i),typeof r=="string"&&f.noText(r),typeof u=="function"?f.callback(u):typeof i=="function"?f.callback(i):typeof r=="function"&&f.callback(r),f.open(),f},t=function(){},i=function(i){var u=this,r;this.isDismissable=!0;this.isTransparent=!1;this.template="popup-basic";this.callback=ko.observable(t);r=!1;i.close=function(t,f){if(r){r=!1;n.popups.remove(u);typeof i.onClose=="function"&&(t=i.onClose(t,f));var e=u.callback();typeof e=="function"&&e(t)}};this.open=function(){r||(r=!0,n.popups.push(this))};this.close=function(){i.close(null,!1)}},n.MessagePopup=function(n){var t={},r=this;i.call(this,t);this.message=ko.observable(""||n);this.yesText=ko.observable(app.texts.popupOk);this.noText=ko.observable(null);this.template="popup-message";this.yesClick=function(){t.close(!0,!0)};this.noClick=function(){t.close(!1,!0)};t.onClose=function(n,t){return!t&&!r.isDismissable?!1:n}},n.handleBackPress=function(){var n=this.popups()[this.popups.length-1];n.isDismissable&&n.close()},n}();app.quizzes=function(n,t){"use strict";function r(n){var t=n.originalEvent.touches,i;t&&t.length>0&&(i=t[0],n.pageX=i.pageX,n.pageY=i.pageY)}var i={};return ko.utils.makeArray||(ko.utils.makeArray=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i}),ko.utils.moveCleanedNodesToContainerElement||(ko.utils.moveCleanedNodesToContainerElement=function(n){for(var t=ko.utils.makeArray(n),u=t[0]&&t[0].ownerDocument||document,r=u.createElement("div"),i=0,f=t.length;i<f;i++)r.appendChild(ko.cleanNode(t[i]));return r}),ko.bindingHandlers.quiz={init:function(){return{controlsDescendantBindings:!0}},update:function(t,r,u,f,e){var o=ko.unwrap(r()),h=o instanceof n.models.Quiz,c=h?o:o.quiz,l=c.typeName(),s=new i[l](t,c),a;h||(ko.isWriteableObservable(o.check)&&o.check(s.check),ko.isWriteableObservable(o.hint)&&o.hint(s.hint),ko.isWriteableObservable(o.skip)&&o.skip(s.skip),ko.isObservable(o.internalCheck)?s.complete=o.internalCheck:s.complete(o.internalCheck));a=ko.renderTemplate("quiz-"+l,e.extend({$quiz:s}),{},t,"replaceChildren");s.initialize()}},ko.bindingHandlers.textFormat={init:function(){return{}},update:function(t,i){var f=ko.unwrap(i()),y=[],p=null,r="",l=[],s,o,u,h,c,v,a,e,b,w;if(p=ko.isObservable(f.glossaryClick)?f.glossaryClick():f.glossaryClick,y=ko.isObservable(f.glossary)?f.glossary():f.glossary,r=ko.isObservable(f.text)?f.text():f.text,r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"),y!=null)for(s=0,e=0;e<y.length;e++)for(o=y[e].terms(),u=0;u<o.length;u++)s++,o[u].pattern()!=null?(h=o[u].pattern(),h.indexOf("(?<")>-1||(h=h.replace(/</g,"&lt;").replace(/>/g,"&gt;"),h="("+h+")",a=new RegExp(h,"g").test(r),a&&(r=r.replace(new RegExp(h,"g"),'<span class="tooltip" data-text="GL'+s+'">$1<\/span>'),l.push({index:s,text:o[u].text()})))):(c="",v=o[u].term().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),o[u].term().charAt(0)=="<"?(v=v.replace(/</g,"&lt;").replace(/>/g,"&gt;"),c="("+v+")",a=new RegExp(c,"g").test(r),a&&(r=r.replace(new RegExp(c,"g"),'<span class="tooltip" data-text="GL'+s+'">$1<\/span>'),l.push({index:s,text:o[u].text()}))):(c="(^|\\b)("+v+")(?=\\b|$)",a=new RegExp(c,"g").test(r),a&&(r=r.replace(new RegExp(c,"g"),'<span class="tooltip" data-text="GL'+s+'">$2<\/span>'),l.push({index:s,text:o[u].text()}))));for(r=r.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/(\[)(\/?(b|i|u))(\])/g,"<$2>").replace(/(\[)(h1|h2|h3)(\])/g,"<$2>").replace(/(\[\/)(h1|h2|h3)(\])/g,"<\/$2>").replace(/(\[note])([\s\S]*?)(\[\/note])/g,'<span class="noteBlock"><span class="note">$2<\/span><\/span>').replace(/(\[img id=")([0-9]+)(\" )(width=")([0-9]+%)(\")(\])/g,'<span class="imageBlock"><img src="https://api.sololearn.com/DownloadFile?id=$2" width="$5"><\/span>'),r=r.replace(/(\[code format=")([a-zA-Z]+)(\" ?)((codeId=")([0-9]+)(\"))?]([\s\S]*?)(\[\/code])/g,function(t,i,r,u,f,e,o,s,h){var l=r,a=h,c=o,v,y;return c!=undefined?(v="data-codeid="+c+"",y="https://code.sololearn.com/"+c+"/#"+n.aliases[n.alias.toLowerCase()]+"",'<div class="codeContainer"><span class="codeBlock" '+v+'><span class="code '+l+'">'+a+'<\/span><\/span><a href="'+y+'" class="materialResponse material runCode" target="_blank">Try It Yourself<\/a><\/div>'):'<span class="codeBlock"><span class="code '+l+'">'+a+"<\/span><\/span>"}),e=0;e<l.length;e++)b="GL"+l[e].index+'"',r=r.replace(new RegExp(b,"g"),l[e].text+'"');if(w=n.isMobile?"click":"mouseover",$(t).html(r).off(w,".tooltip").find("h1 > .tooltip, h2 > .tooltip, h3 > .tooltip").contents().unwrap(),typeof p=="function")$(t).on(w,".tooltip",p)}},ko.bindingHandlers.placeholder={init:function(n){var t=ko.virtualElements.childNodes(n),i=ko.utils.moveCleanedNodesToContainerElement(t);return new ko.templateSources.anonymousTemplate(n).nodes(i),{controlsDescendantBindings:!0}},update:function(n,t,r,u,f){var e=t(),o=e.answers();i.placeholder.parse(n,e,f.$quiz.getAnswers(),function(t){for(var r,u,i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)u=t[i][r],ko.renderTemplate(n,f.extend(o[i]).extend({$index:i}),f,u[0])})}},ko.bindingHandlers.shuffledEach={init:ko.bindingHandlers.foreach.init,update:function(t,i,r,u,f){var e=n.util.shuffle(ko.unwrap(i()));return ko.bindingHandlers.foreach.update(t,function(){return e},r,u,f)}},ko.bindingHandlers.enterkey={init:function(n,t,i,r){var u=i();$(n).on("keydown",function(t){var f=t.which||t.keyCode,i;return f!==13?!0:(i=t.target,i.blur(),u.enterkey.call(r,r,i,n),!1)})}},ko.bindingHandlers.submitAnswer={init:function(n,t,i,r){var u=i();$(document).on("keypress",function(n){var t=n.which?n.which:n.keyCode;return t!==13||n.target.tagName.toLowerCase()=="textarea"?!0:(u.submitAnswer.call(r),!1)})}},ko.components.register("material-input",{viewModel:function(n){var r=this,t,i;this.text=ko.isWriteableObservable(n.text)?n.text:ko.observable(n&&n.text||"");this.hasFocus=ko.isWritableObservable(n.hasFocus)?n.hasFocus:ko.observable();this.label=ko.observable(n&&n.label||"");this.onEnter=n.enterkey||function(){};t=n&&n.maxLength||0;i=null;n&&typeof n.change=="function"&&(i=n.change);(i!=null||t>0)&&this.text.subscribe(function(n){t>0&&n.length>t&&(n=n.substr(0,t),r.text(n));i!=null&&i(n)})},template:{element:"material-input"}}),ko.components.register("material-typeIn",{viewModel:function(n){var t,i;n=n||{};t=this;this.realText=n.text;i=t.realText.toLowerCase();this.prefix=n.prefix||"";this.postfix=n.postfix||"";this.text=ko.isWriteableObservable(n.inputText)?n.inputText:ko.observable("");this.correctText=ko.observable();this.wrongText=ko.observable();this.isFilled=ko.isWriteableObservable(n.isFilled)?n.isFilled:ko.observable(!1);this.isChecked=ko.isWriteableObservable(n.isChecked)?n.isChecked:ko.observable(!1);this.isCorrect=ko.isWriteableObservable(n.isCorrect)?n.isCorrect:ko.observable(!1);this.hasFocus=ko.isWritableObservable(n.hasFocus)?n.hasFocus:ko.observable(n.hasFocus||!1);this.getInput=function(){var n=t.text().trim().toLowerCase();return n.length>t.realText.length&&(n=n.substr(0,t.realText.length)),n};this.onEnter=function(){var t=ko.unwrap(n.complete),i=ko.unwrap(n.requireBlur);typeof t=="function"&&t();typeof i=="function"&&i(!0)};this.text.subscribe(function(){var r=t.getInput(),u,f;if(t.isFilled(i.length==r.length),i.indexOf(r)==0)t.correctText(r),t.wrongText("");else for(u=0;u<r.length&&u<i.length;u++)if(r[u]!=i[u]){t.correctText(t.realText.substr(0,u));t.wrongText(r.substr(u));break}r.length==i.length&&(f=ko.unwrap(n.requireBlur),typeof f=="function"&&f());t.isCorrect(i==r)})},template:{element:"material-typeIn"}}),i.quizBase=function(n,t){var i=this;this.hint=function(){t.hint&&alert(t.hint)};this.skip=function(){throw"SKIP NOT IMPLEMENTED";};this.complete=ko.observable();this.fireComplete=function(){var n=i.complete();typeof n=="function"&&n()}},i.multipleChoice=function(n,t){i.quizBase.call(this,n,t);this.initialize=function(){if(t.isMultiple())$(n).find(".answer").click(function(){$(this).toggleClass("selected")});else{var i=$(n).find(".answer");i.click(function(){i.removeClass("selected");$(this).addClass("selected")})}};this.check=function(){var r=$(n).find(".answer.selected"),u=!1,f,e,o,s,i,h;if(t.isMultiple()){for(f=0,e=!1,i=0;i<r.length;i++)if(ko.dataFor(r[i]).isCorrect)f++;else{e=!0;break}if(!e){for(o=t.answers(),s=0,i=0;i<o.length;i++)o[i].isCorrect&&s++;u=s==f}}else r.length==1&&(h=ko.dataFor(r[0]),u=h.isCorrect);return u};this.skip=function(t){$(n).find(".answer").each(function(){$(this).toggleClass("selected",ko.dataFor(this).isCorrect)});typeof t=="function"&&t()}},i.imageChoice=i.multipleChoice,i.typeIn=function(t,r){i.quizBase.call(this,t,r);this.initialize=function(){};var u=this;this.isChecked=ko.observable(!1);this.isCorrect=ko.observable(!1);this.hasFocus=ko.observable(!n.isMobile);this.text=ko.observable("");this.check=function(){return u.isChecked(!0),u.isCorrect()};this.hint=function(){var t=u.text(),i=r.answer().text,n;if(t.length==0||i.indexOf(t)==0)t.length<i.length&&u.text(i.substr(0,t.length+1));else for(n=0;n<t.length&&n<i.length;n++)if(t[n]!=i[n]){u.text(i.substr(0,n+1));break}};this.skip=function(n){var t=function(){u.isCorrect()?typeof n=="function"&&n():(u.hint(),setTimeout(t,100))};t()};this.requireBlur=function(){(r.answers.length>0||n.isMobile)&&u.hasFocus(!1);$(document.body).removeClass("nav-up")}},i.strikeOut=function(t,r){i.quizBase.call(this,t,r);this.initialize=function(){$(t).find(".answer").click(function(){$(this).toggleClass("striked").hasClass("striked")&&n.Audio.play(n.Audio.Deleting)})};this.check=function(){for(var i,u,f=$(t).find(".answer").not(".striked"),e=!1,o=0,s=!1,n=0;n<f.length;n++)if(ko.dataFor(f[n]).isCorrect)o++;else{s=!0;break}if(!s){for(i=r.answers(),u=0,n=0;n<i.length;n++)i[n].isCorrect&&u++;e=u==o}return e};this.skip=function(n){var r=$(t).find(".answer"),i=0,u=function(){var t=ko.dataFor(r[i]).isCorrect,f=r.eq(i),e=f.hasClass("striked");f.toggleClass("striked",!t);i++;i==r.length?typeof n=="function"&&n():t==e?setTimeout(u,200):u()};u()}},i.reorder=function(u,f){i.quizBase.call(this,u,f);var e=null;this.initialize=function(){$(t).trigger("resize");e=$(u).find(".answers");var o=null,s=null,c=!1,a=0,y=0,i=0,l=0,v=null,f=[],h=0,p=function(){h--;h!=0||c||(o.removeAttr("style"),e.removeAttr("style"),o=null)},w=function(t){var c,w,e,u,b;return(r(t),t.pageY==a)?!1:(t.pageY&&(a=t.pageY),c=a-v.top-y,s.css({top:c}),i<f.length-1&&c+f[i].height>f[i+1].top+f[i+1].height*4/7?(e=f[i].height,f[i].height=f[i+1].height,f[i+1].height=e,f[i+1].top+=f[i].height-e,u=i+1,w=o.eq(u>l?u:u-1),h++,w.velocity({top:f[i].top},150,n.Easings.swiftIn,p),i++):i>0&&c<f[i-1].top+f[i-1].height*3/7&&(e=f[i].height,f[i].height=f[i-1].height,f[i-1].height=e,f[i].top+=e-f[i].height,u=i-1,b=o.eq(u<l?u:u+1),h++,b.velocity({top:f[i].top},150,n.Easings.swiftIn,p),i--),!1)},b=function(){if($(n.events.container).off(n.events.mousemove,w).off(n.events.mouseup,b),c){if(i!=l){s.detach();var t=e.find(".answer");i==0?s.insertBefore(t.eq(0)):s.insertAfter(t.eq(i-1))}h==0&&(o.removeAttr("style"),e.removeAttr("style"),o=null);s.removeClass("drag");s=null;c=!1}return!1};e.on(n.events.mousedown,".answer",function(t){var u;for(r(t),s=$(this).addClass("drag"),o=e.find(".answer"),c=!0,e.height(e.height()),v=e.offset(),f=[],u=o.length-1;u>=0;u--){var h=o.eq(u),a=h.offset(),p=a.top-v.top;h.css({position:"absolute",left:0,top:p});f[u]={top:p,height:h.outerHeight()};h.is(s)&&(y=t.pageY-a.top,i=u)}l=i;$(n.events.container).on(n.events.mousemove,w).on(n.events.mouseup,b);return!1})};this.check=function(){for(var i=e.find(".answer"),t=f.answers(),n=0;n<t.length;n++)if(t[n]!=ko.dataFor(i[n]))return!1;return!0};this.skip=function(){e.velocity({rotateX:45,opacity:0},n.Easings.swiftIn,200,function(){var r=e.find(".answer").css("opacity",0),u,t,i,o;for(e.removeAttr("style"),u=f.answers(),t=0;t<u.length;t++)for(i=0;i<r.length;i++)if(ko.dataFor(r[i])==u[t]){t!=i&&(o=r.eq(i).detach(),r=e.find(".answer"),t==0?e.prepend(o):r.eq(t-1).after(o));break}e.find(".answer").each(function(t){$(this).velocity({translateY:[0,100],opacity:[1,0]},{delay:t*100,duration:150,easing:n.Easings.swiftIn})})})}},i.imageReorder=i.reorder,i.placeholder=function(){function t(n,t){for(var r=t.split("\r\n"),i=0;i<r.length;i++)n.append(document.createTextNode(r[i].replace(/&nbsp;|\s/g,"Â "))),i<r.length-1&&n.append("<br/>")}var n={};return n.parsers={},n.parse=function(t,i,r,u){for(var a=$(t),c=/\[!([a-zA-Z0-9]+)!\]((?:(?!\[![a-zA-Z0-9]+!\])[\s\S]*)*)/gi,o=c.exec(i.question),s=[],f,e,h;o!=null;){var v=o[1],y=n.parsers[v]||n.parsers.raw,l=y(a,o[2].trim(),r);for(f=0;f<l.length;f++){if(e=l[f],!e)return;if(s[f])for(h=0;h<e.length;h++)s[f].push(e[h]);else s[f]=e}o=c.exec(i.question)}u(s)},n.parsers.raw=function(n,i){for(var e=[],o=$('<div class="textblock raw"><\/div>'),h=/\{(\d)\}/gi,r=h.exec(i),u=0,f,s;r!=null;)r.index>u&&t(o,i.substr(u,r.index-u)),f=parseInt(r[1]),e[f]||(e[f]=[]),s=$('<div class="placeholder" data-index="'+f+'"><\/div>'),o.append(s),e[f].push(s),u=r.index+r[0].length,r=h.exec(i);return i.length>u&&t(o,i.substr(u)),n.append(o),e},n}(),i.placeholderBase=function(n,t){i.quizBase.call(this,n,t);var r=this;this.quiz=t;this.element=n;this.getAnswers=function(){for(var u,i=[],r=t.answers(),n=0;n<r.length;n++)u=r[n],i.push[u.text];return i};this.initialize=function(){}},i.placeholderTypeIn=function(t,r){function o(){for(var n=0;n<u.answers.length;n++)if(!u.answers[n].isCorrect())return!1;return!0}var u,e,f;for(i.placeholderBase.call(this,t,r),u=this,this.getAnswers=function(){for(var n,i=[],u=r.answers(),t=0;t<u.length;t++)n=u[t],i.push[n.properties.prefix+n.text+n.properties.postfix];return i},this.answers=[],e=r.answers(),f=0;f<e.length;f++)this.answers[f]={text:ko.observable(""),hasFocus:ko.observable(f==0&&!n.isMobile),isCorrect:ko.observable(!1),isFilled:ko.observable(!1),complete:function(t){return function(i){var f,r,e;if(i&&!n.isMobile&&u.fireComplete(),t==u.answers.length-1&&i)u.answers[t].hasFocus(!1);else{for(f=!1,r=t+1;r<u.answers.length;r++)if(!u.answers[r].isFilled()){f=!0;u.answers[r].hasFocus(!0);break}if(!f)for(r=0;r<t;r++)if(!u.answers[r].isFilled()){f=!0;u.answers[r].hasFocus(!0);break}for(!f&&n.isMobile&&(u.answers[t].hasFocus(!1),$(document.body).removeClass("nav-up")),e=0;e<u.answers.length;e++);}}}(f)};this.isChecked=ko.observable(!1);this.check=function(){return u.isChecked(!0),o()};this.hint=function(){for(var t,i,f,n=0;n<u.answers.length;n++)if(t=u.answers[n].text(),i=r.answers()[n].text,t.length==0||i.indexOf(t)==0)t.length<i.length&&u.answers[n].text(i.substr(0,t.length+1));else for(f=0;f<t.length&&f<i.length;f++)if(t[f]!=i[f]){u.answers[n].text(i.substr(0,f+1));break}};this.skip=function(n){var t=function(){o()?typeof n=="function"&&n():(u.hint(),setTimeout(t,100))};t()}},i.placeholderDragAndDrop=function(t,u,f){function g(t,i,r){var s=t.attr("data-id"),o,u;i.hasClass("active")?(o=i.attr("data-id"),y.find("[data-id="+o+"]").removeClass("active"),f.clearPlaceholder(i)):i.addClass("active").removeClass("hover");i.find(".answer").velocity({width:t.width()},{duration:r,easing:n.Easings.swiftIn});i.attr("data-id",s);u=i.offset();t.velocity({top:u.top-e.top-(t.outerHeight()-i.outerHeight())/2,left:u.left-e.left-(t.outerWidth()-i.outerWidth())/2},{complete:function(){f.populatePlaceholder(i,t);t.remove()},duration:r,easing:n.Easings.swiftIn})}i.placeholderBase.call(this,t,u);f=f||{};var nt=$(t),h=null,v=null,c=null,a=[],y=null,b=0,o=null,s=null,e=null,k=0,d=0,p=0,w=0,l=-1,tt=0;f.onMouseDown=function(t){if(r(t),o=$(this),s=null,!o.hasClass("active")){b=o.attr("data-id");e=h.offset();var i=o.offset();k=t.pageX-i.left;d=t.pageY-i.top;p=i.top-e.top;w=i.left-e.left;$(n.events.container).on(n.events.mousemove,f.onMouseMove).on(n.events.mouseup,f.onMouseUp);t.preventDefault()}};f.onMouseMove=function(n){var i,v,y,b,u,g,t;if(r(n),s==null)for(s=o.clone().css({position:"absolute",top:w,left:p}),o.addClass("active"),s.appendTo(h),a=[],t=0;t<c.length;t++)i=c.eq(t),v=i.offset(),a[t]={x:v.left-e.left+i.outerWidth()/2,y:v.top-e.top+i.outerHeight()/2};for(y=n.pageX-e.left,b=n.pageY-e.top,s.css({top:b-d,left:y-k}),u=-1,g=9999,t=0;t<a.length;t++){var nt=a[t].x-y,it=a[t].y-b,f=Math.sqrt(nt*nt+it*it);f<g&&f<75&&(g=f,u=t)}return u!=l&&(l!=-1&&c.eq(l).removeClass("hover"),l=u,l!=-1&&(c.eq(l).addClass("hover"),tt=f)),!1};f.onMouseUp=function(){if($(n.events.container).off(n.events.mousemove,f.onMouseMove).off(n.events.mouseup,f.onMouseUp),s!=null){if(l!=-1)g(s,c.eq(l),tt);else{var i=o,t=o.offset();s.velocity({left:t.left-e.left,top:t.top-e.top},n.Easings.swiftIn,200,function(){$(this).remove();i.removeClass("active")})}s=null}return!1};f.populatePlaceholder=function(n,t){n.find(".answer").text(t.text())};f.clearPlaceholder=function(n){n.find(".answer").text("")};f.onClick=function(){var n,t,i;(e=h.offset(),o=$(this),o.hasClass("active"))||(n=c.not(".active").eq(0),n.length>0&&(t=o.offset(),i=o.clone().css({position:"absolute",left:t.left-e.left,top:t.top-e.top}),o.addClass("active"),i.appendTo(h),g(i,n,200)))};f.onPlaceholderMouseDown=function(t){var i,u,l,v,g;for(r(t),i=$(this),b=i.attr("data-id"),o=y.find("[data-id="+b+"]"),e=h.offset(),i.removeClass("active"),f.clearPlaceholder(i),u=i.offset(),u.left-=(o.outerWidth()-i.outerWidth())/2,u.top-=(o.outerHeight()-i.outerHeight())/2,k=t.pageX-u.left,d=t.pageY-u.top,p=u.left-e.left,w=u.top-e.top,s=o.clone().removeClass("active").css({position:"absolute",top:w,left:p}),s.appendTo(h),a=[],l=0;l<c.length;l++)v=c.eq(l),g=v.offset(),a[l]={x:g.left-e.left+v.outerWidth()/2,y:g.top-e.top+v.outerHeight()/2};$(n.events.container).on(n.events.mousemove,f.onMouseMove).on(n.events.mouseup,f.onMouseUp);t.preventDefault()};this.initialize=function(){h=nt.find(".placeholderQuiz");v=nt.find(".placeholders");y=h.find(".answers");c=v.find(".placeholder");y.on(n.events.mousedown,".answer",f.onMouseDown).on("click",".answer",f.onClick);v.on(n.events.mousedown,".placeholder.active",f.onPlaceholderMouseDown)};this.skip=function(n){var i,o,t,r;v.find(".placeholder.active").removeClass("active").each(function(){f.clearPlaceholder($(this))});i=y.find(".answer").removeClass("active");o=u.correctAnswers();e=h.offset();t=0;r=function(){var l=ko.dataFor(i[t]),f=o.indexOf(l);if(f>=0){var a=v.find(".placeholder[data-index="+f+"]"),u=i.eq(t),s=u.offset(),c=u.clone().css({position:"absolute",left:s.left-e.left,top:s.top-e.top});u.addClass("active");c.appendTo(h);g(c,a,200)}t++;t==i.length?typeof n=="function"&&n():setTimeout(r,200)};r()};this.check=function(){var t=u.correctAnswers(),i=v.find(".placeholder.active"),n;if(t.length!=i.length)return!1;for(n=0;n<t.length;n++)if(t[n].id!=parseInt(i.eq(n).attr("data-id")))return!1;return!0}},i.placeholderImageDragAndDrop=function(n,t){var r={},u;i.placeholderDragAndDrop.call(this,n,t,r);r.populatePlaceholder=function(n,t){n.find(".answerImage").attr("src",t.find(".answerImage").attr("src"))};r.clearPlaceholder=function(n){n.find(".answerImage").attr("src","")};this.resizePlaceholders=function(t,i){var r=i.target;$(n).find(".answer").height(r.height)};u=this.initialize;this.initialize=function(){u();$(n).find(".answers").off("click",r.onClick)}},i}(app,window),function(){function n(n,t){var i=$.extend(t,{duration:200,easing:app.Easings.swiftIn}),r=n.find(".actionButton");i.delay&&r.css("opacity",0);r.velocity({opacity:[1,0],scaleX:[1,.75],scaleY:[1,.75]},i)}function t(n){var t=app.ViewService.$app.offset(),r=n.width(),i=n.offset();n.css({position:"absolute",width:r,left:i.left-t.left,top:i.top-t.top,margin:0})}function c(n){n.find(".appModule").css("opacity",0).each(function(n,t){$.Velocity(t,{opacity:[1,0],scaleX:[1,.75],scaleY:[1,.75]},{delay:50*n,easing:app.Easings.swiftIn,duration:200})})}function i(n){var i=app.ViewService.$header.find(".module .title").removeAttr("style"),t=app.ViewService.$header.find(".lesson").removeAttr("style");n&&!app.isMobile?t.css("display","block").velocity({opacity:[1,0]},{duration:200,easing:app.Easings.swiftIn}):(i.velocity({fontSize:18,translateY:[-20,0]},{duration:200,easing:app.Easings.swiftIn}),t.css("display","block").velocity({opacity:[1,0],translateY:[10,100]},{duration:200,easing:app.Easings.swiftIn}))}function u(){app.ViewService.$header.find(".module .title").velocity("reverse");var n=app.ViewService.$header.find(".lesson").velocity("reverse",{complete:function(){n.removeAttr("style")}})}function l(n,t){var i={duration:n||200,delay:t||0,easing:app.Easings.swiftIn},r=app.ViewService.$header.find(".module"),u=r.find(".content").css({opacity:0,display:"block"});u.velocity({translateX:[0,100],opacity:[1,0]},i);r.rippleFill({radius:40,duration:400,mode:"wave",delay:i.delay});app.ViewService.$header.find(".course").velocity({translateX:[-100,0],opacity:[0,1]},i)}function a(){var n=app.ViewService.$header.find(".module");n.rippleFill({duration:400,mode:"wave",reverse:!0,easing:app.Easings.swiftIn});$headerContent=n.find(".content").velocity("reverse",function(){$headerContent.css({display:"none"})});app.ViewService.$header.find(".course").velocity("reverse")}function e(n,t,i,r){u();var f=n.$view.find("#videoMaterial").velocity({scaleX:[.9,1],scaleY:[.9,1],opacity:[0,1]},{easing:app.Easings.swiftIn,duration:150,complete:function(){n.$view.removeAttr("style");t!=null?t.$view.velocity("fadeIn",r):typeof r=="function"&&r()}})}function o(n,t,i,r){u();n.$view.velocity({translateX:[0,0],scaleX:[.9,1],scaleY:[.9,1],opacity:[0,1]},{easing:app.Easings.swiftIn,duration:150,complete:function(){n.$view.removeAttr("style");t!=null?t.$view.velocity("fadeIn",r):typeof r=="function"&&r()}})}function s(n,t,i,r){u();n.$view.velocity({translateX:[0,0],scaleX:[.9,1],scaleY:[.9,1],opacity:[0,1]},{easing:app.Easings.swiftIn,duration:150,complete:function(){n.$view.removeAttr("style");t!=null?t.$view.velocity("fadeIn",r):typeof r=="function"&&r()}})}function r(i,r,u,f){var e=app.ViewService.$app.width();u.navigationMode=="backward"&&(e=-e);t(i.$view);i.$view.velocity({scaleX:[1,1],scaleY:[1,1],translateX:[-e,0]},{duration:200,easing:app.Easings.swiftIn,complete:function(){i.$view.removeAttr("style")}});r.$view.velocity({scaleX:[1,1],scaleY:[1,1],translateX:[0,e]},{duration:200,easing:app.Easings.swiftIn,complete:f}).css("display","block");n(r.$view,{delay:200})}function f(t,i,r,u){var f=app.ViewService.$app.width();r.navigationMode=="backward"&&(f=-f);i.$view.velocity({scaleX:[1,1],scaleY:[1,1],translateX:[-f,0]},{duration:200,easing:app.Easings.swiftIn,complete:function(){i.$view.velocity({scaleX:[1,1],scaleY:[1,1],translateX:[0,f]},{duration:200,easing:app.Easings.swiftIn,complete:u})}}).css("display","block");n(i.$view,{delay:200})}function h(n){for(var t=0;t<n.length;t++)if(n[t].nodeType==1)return n[t]}app.ViewService.registerTransition("modulesView","lessonsView",function(n,t,i){var c=app.ViewService.$app,r=c.offset(),u=$(i.target).parents(".appModule"),o=u.find(".appModuleCircle"),f=o.offset(),s=o.clone(),a,v,h,e;s.css({position:"absolute",top:f.top-r.top+"px",left:f.left-r.left+"px",zIndex:5001}).appendTo(c);a=app.ViewService.$header.find(".module").width();v=o.innerHeight();s.velocity({translateX:[r.left-f.left+(a-v)/2,0],translateY:[r.top-f.top,app.Easings.swiftOut,0],opacity:[.5,app.Easings.swiftOut,1]},{duration:300,complete:function(){s.remove()}});l(200,300);u.css("opacity",0);h=function(){n.$view.removeAttr("style");e.removeAttr("style");u.removeAttr("style");t.$view.find(".appLesson").each(function(n,i){var r=$(i);r.css({opacity:0}).velocity({translateY:[0,app.Easings.swiftIn,100],opacity:[1,app.Easings.swiftIn,0]},{delay:n*30,duration:200});t.$view.css("display","block")})};e=u.siblings();e.length>0?e.velocity({scaleX:.75,scaleY:.75,opacity:0},{easing:app.Easings.swiftIn,duration:200,complete:h}):h()});app.ViewService.registerTransition("lessonsView","modulesView",function(n,t){a();n.$view.css("display","none");t.$view.css("display","block");c(t.$view)});app.ViewService.registerTransition("modulesView","quizView",function(n,r,u,f){var e=$("#quizView"),o=e.find(".checkButton");t(n.$view);n.$view.velocity("fadeOut",{duration:200,complete:function(){n.$view.removeAttr("style")}});i(!0);o.velocity({opacity:[1,0],scaleX:[1,.75],scaleY:[1,.75]},app.Easings.swiftIn,200);r.$view.velocity({translateX:[0,0],scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:f});r.$view.css("display","block")});app.ViewService.registerTransition("lessonsView","videoView",function(r,u,f,e){var s=app.ViewService.$app.offset(),o;t(r.$view);r.$view.velocity("fadeOut",{duration:200,complete:function(){r.$view.removeAttr("style")}});i();o=u.$view.find("#videoMaterial");o.velocity({scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:e});n(u.$view,{delay:200});$(".iconButton.play").click(function(){$(this).toggleClass("pause")});u.$view.css("display","block")});app.ViewService.registerTransition("lessonsView","textView",function(n,r){var u=app.ViewService.$app.offset();t(n.$view);n.$view.velocity("fadeOut",{duration:200,complete:function(){n.$view.removeAttr("style")}});i();r.$view.css("display","block")});app.ViewService.registerTransition("videoView","lessonsView",e);app.ViewService.registerTransition("textView","lessonsView",o);app.ViewService.registerTransition("lessonsView","quizView",function(r,u,f,e){var o=app.ViewService.$app.offset();t(r.$view);r.$view.velocity("fadeOut",{duration:200,complete:function(){r.$view.removeAttr("style")}});i();u.$view.velocity({translateX:[0,0],scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:e});n(u.$view,{delay:200});u.$view.css("display","block");app.ViewService.registerTransition("lessonsView","quizView",function(r,u,f,e){var o=app.ViewService.$app.offset();t(r.$view);r.$view.velocity("fadeOut",{duration:200,complete:function(){r.$view.removeAttr("style")}});i();u.$view.velocity({translateX:[0,0],scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:e});n(u.$view,{delay:200});u.$view.css("display","block")});app.ViewService.registerTransition("lessonsView","quizView",function(r,u,f,e){var o=app.ViewService.$app.offset();t(r.$view);r.$view.velocity("fadeOut",{duration:200,complete:function(){r.$view.removeAttr("style")}});i();u.$view.velocity({translateX:[0,0],scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:e});n(u.$view,{delay:200});u.$view.css("display","block");app.ViewService.registerTransition("lessonsView","quizView",function(r,u,f,e){var o=app.ViewService.$app.offset();t(r.$view);r.$view.velocity("fadeOut",{duration:200,complete:function(){r.$view.removeAttr("style")}});i();u.$view.velocity({translateX:[0,0],scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:e});n(u.$view,{delay:200});u.$view.css("display","block")})});app.ViewService.registerTransition("lessonsView","quizView",function(r,u,f,e){var o=app.ViewService.$app.offset();t(r.$view);r.$view.velocity("fadeOut",{duration:200,complete:function(){r.$view.removeAttr("style")}});i();u.$view.velocity({translateX:[0,0],scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:e});n(u.$view,{delay:200});u.$view.css("display","block");app.ViewService.registerTransition("lessonsView","quizView",function(r,u,f,e){var o=app.ViewService.$app.offset();t(r.$view);r.$view.velocity("fadeOut",{duration:200,complete:function(){r.$view.removeAttr("style")}});i();u.$view.velocity({translateX:[0,0],scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:e});n(u.$view,{delay:200});u.$view.css("display","block")});app.ViewService.registerTransition("lessonsView","quizView",function(r,u,f,e){var o=app.ViewService.$app.offset();t(r.$view);r.$view.velocity("fadeOut",{duration:200,complete:function(){r.$view.removeAttr("style")}});i();u.$view.velocity({translateX:[0,0],scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:e});n(u.$view,{delay:200});u.$view.css("display","block");app.ViewService.registerTransition("lessonsView","quizView",function(r,u,f,e){var o=app.ViewService.$app.offset();t(r.$view);r.$view.velocity("fadeOut",{duration:200,complete:function(){r.$view.removeAttr("style")}});i();u.$view.velocity({translateX:[0,0],scaleX:[1,.9],scaleY:[1,.9],opacity:[1,0]},{easing:app.Easings.swiftIn,duration:300,complete:e});n(u.$view,{delay:200});u.$view.css("display","block")})})})});app.ViewService.registerTransition("quizView","lessonsView",s);app.ViewService.registerTransition("videoView","quizView",r);app.ViewService.registerTransition("quizView","videoView",r);app.ViewService.registerTransition("videoView","textView",r);app.ViewService.registerTransition("quizView","textView",r);app.ViewService.registerTransition("textView","videoView",r);app.ViewService.registerTransition("textView","quizView",r);app.ViewService.registerTransition("textView","textView",f);app.ViewService.registerTransition("videoView","videoView",f);app.ViewService.registerTransition("quizView","quizView",f);app.ViewService.registerFromTransition("videoView",function(n,t,i){app.ViewService.$header.find(".course, .module .content").velocity("reverse");e(n,null,t,i)});app.ViewService.registerFromTransition("textView",function(n,t,i){app.ViewService.$header.find(".course, .module .content").velocity("reverse");o(n,null,t,i)});app.ViewService.registerFromTransition("quizView",function(n,t,i){app.ViewService.$header.find(".course, .module .content").velocity("reverse");s(n,null,t,i)});app.ViewService.transitions.showQuizResult=function(t){var i=$(h(t)),o=i.parents(".view"),u=o.find(".checkButton"),f=u.offset(),e=i.offset(),s=i.hasClass("correct"),r;i.rippleFill({radius:100,duration:600,mode:"wave",offsetX:f.left-e.left,offsetY:f.top-e.top,color:s?"rgba(0,255,0,0.1)":"rgba(255,0,0,0.1)"});u.velocity({opacity:[0,1],scaleX:[.75,1],scaleY:[.75,1]},app.Easings.swiftIn,200);r=i.find("#quizResult");r.velocity({translateX:[0,350],scaleX:[1,.75],scaleY:[1,.75],opacity:[1,0]},app.Easings.swiftIn,300);n(r,{delay:300})};app.ViewService.transitions.showAchievement=function(n){var t=$(h(n));t.velocity({translateX:[0,t.outerWidth()]},app.Easings.swiftIn,400);t.css("display","block")};app.ViewService.transitions.hideAchievement=function(n){var t=$("#unlockedAchievement");t.velocity({translateX:[t.outerWidth(),0]},app.Easings.swiftIn,300,n)};app.ViewService.transitions.pointFeedback=function(){var n=app.ViewService.$header.find("#headerPoints");n.velocity({scaleX:[1.1,1],scaleY:[1.1,1]},app.Easings.swiftIn,100,function(){n.velocity("reverse",app.Easings.swiftOut,100)})}}(window);app.Progress=function(n){function nt(n){for(var t=0;t<r.length;t++)if(r[t].id==n)return r[t];return null}function b(n){for(var t=0;t<i.length;t++)if(i[t].lessonID==n)return i[t];return null}function d(n,t){for(var i=0;i<n.quizzes.length;i++)if(n.quizzes[i].quizID==t)return n.quizzes[i];return null}function tt(n){for(var i=0,t=0;t<n.quizzes.length;t++)i+=n.quizzes[t].score;return i}function it(){s==-1&&(s=n.Storage.load("totalCompletedLessons")||0);s++;n.Storage.save("totalCompletedLessons",s);s%4==0&&n.executeProgressAction()}function h(){for(var i,u=n.models.ProgressState.Normal,t=0;t<r.length;t++)i=r[t].state().visualState(),u==n.models.ProgressState.Normal&&i==n.models.ProgressState.Disabled&&(i=n.models.ProgressState.Active,r[t].state().visualState(i),r[t].state().isUnlocked=!0),u=i}function k(){for(var n=0,u=0;u<i.length;u++)i[u].isCompleted&&n++;t.percent(Math.round(100*n/r.length));t.isCompleted(n==r.length)}function g(n){return c["l"+n]||null}function a(t,i){var f,u,h,s,c;if(i||(i=g(t.lessonID)),i){for(i.points(Math.round(t.bestScore)),i.isStarted(t.isStarted),(t.isCompleted||i.points()>0)&&(i.visualState(n.models.ProgressState.Normal),i.isUnlocked=!0),i.activeQuizID=t.activeQuizID,f=null,u=0;u<r.length;u++)if(r[u].id==t.lessonID){f=r[u];break}var o=f.quizzes(),l=null,a=0;for(u=0;u<o.length;u++)if(o[u].id==t.activeQuizID){l=o[u];a=u;break}l!=null?i.progressPercent(Math.round(100*a/o.length)):i.progressPercent(0);h=d(t,t.activeQuizID);h!=null?i.activeQuizAttempt(h.attempt):i.activeQuizAttempt(1);s=f.module;s!=null&&(c=e["m"+s.id]||null,c!=null&&w(s,c))}}function p(){var r,i;if(!n.dontSync){if(v){y=!0;return}for(v=!0,y=!1,r={lessonProgress:[],quizProgress:[],pointExchanges:[]},i=0;i<f.length;i++)r.lessonProgress.push({lessonID:f[i].lessonID,score:f[i].score,attempt:f[i].attempt,isStarted:f[i].isStarted,activeQuizID:f[i].activeQuizID});for(i=0;i<o.length;i++)r.quizProgress.push({quizID:o[i].quizID,score:o[i].score,attempt:o[i].attempt,time:o[i].time});for(i=0;i<l.length;i++)r.pointExchanges.push(l[i]);n.WS.request("PushProgress",r,function(i){if(!i.error&&(f.splice(0,i.lessons.length),o.splice(0,i.quizzes.length),l.splice(0,i.exchanges.length),t.points(i.points),t.syncedPoints(r.points),i.achievements!=null))for(var u=0;u<i.achievements.length;u++)n.ViewService.enqueueAchievement(i.achievements[u]);v=!1;y&&p()})}}function w(t,i){var o,s,r,h,f;i.totalItems(t.lessons().length);i.totalLessons(t.lessons().filter(function(n){return n.type()==0}).length);o=t.lessons().filter(function(t){return t.state().visualState()==n.models.ProgressState.Normal});i.passedItems(o.length);i.passedLessons(o.filter(function(n){return n.type()==0}).length);i.passedItems()==0?(r=u.indexOf(t),r==0?i.visualState(n.models.ProgressState.Active):r>0&&(s=u[r-1],s.lessons().filter(function(t){return t.state().visualState()==n.models.ProgressState.Normal}).length==s.lessons().length?i.visualState(n.models.ProgressState.Active):i.visualState(n.models.ProgressState.Disabled))):i.passedItems()==i.totalItems()?(i.visualState(n.models.ProgressState.Normal),r=u.indexOf(t),r>=0&&r<u.length-1&&(h=u[r+1],f=e["m"+h.id],f!=null&&f.visualState()==n.models.ProgressState.Disabled&&f.visualState(n.models.ProgressState.Active))):i.visualState(n.models.ProgressState.Active)}var t={},u=[],r=[],i=[],c={},e={},f=[],o=[],l=[],s,v,y;return t.points=ko.observable(0),t.syncedPoints=ko.observable(0).extend({notify:"always"}),t.percent=ko.observable(0),t.isCompleted=ko.observable(!1),t.loadCourse=function(n){var f,i,t,o;for(u=n.modules(),r=[],t=0;t<u.length;t++)for(f=u[t].lessons(),i=0;i<f.length;i++)r.push(f[i]);for(t=0;t<u.length;t++)o=e["m"+u[t].id],o!=null&&w(u[t],o);h()},t.getLessonProgress=b,t.addResult=function(n,r,u,e){var y,s,c,w,v,l,g;if(e=e||0,y=nt(n),s=b(n),s==null&&(s={isStarted:!1,attempt:0,bestScore:0,lessonID:n,score:0,quizzes:[]},i.push(s)),s.isStarted||(s.isStarted=!0,s.attempt++,s.score=0,s.quizzes=[]),c=d(s,r),c==null?(c={attempt:1,isCompleted:u,quizID:r,time:e},s.quizzes.push(c)):(c.isCompleted=u||c.isCompleted,c.time=e),u?(w=5/y.quizCount(),c.score=w/(c.attempt*2-1)):c.attempt++,s.score=Math.round(tt(s)),s.score=Math.min(s.score,6-s.attempt),v=y.quizzes(),c.isCompleted){for(l=0;l<v.length;l++)if(v[l].id==r)break;l++;l>=v.length&&(l=0);s.activeQuizID=v[l].id}else s.activeQuizID=r;return c.isCompleted&&v[v.length-1].id==r&&(g=s.isCompleted,s.isCompleted=!0,s.isStarted=!1,s.score>s.bestScore&&t.points(t.points()+Math.floor(s.score-s.bestScore)),it(!g)),s.isCompleted&&(s.score<1&&(s.score=1),s.bestScore=Math.max(s.bestScore,s.score)),a(s),k(),h(),f.push(s),o.push(c),p(),s},s=-1,t.getLessonState=function(t){var i=g(t.id),r;return i||(i=new n.models.LessonState,c["l"+t.id]=i,r=b(t.id),r&&a(r,i)),i},t.getModuleState=function(t){var i=e["m"+t.id]||null;return i||(i=new n.models.ModuleState,e["m"+t.id]=i,w(t,i)),i},t.sync=function(r){n.WS.request("GetProgress",null,function(u){var s=u.progress,o,c,e,f;for(i=[],f=0;f<s.length;f++){for(o=new n.models.LessonProgress,$.extend(o,s[f]),c=s[f].quizzes,e=0;e<c.length;e++)o.quizzes[e]=$.extend(new n.models.QuizProgress,c[e]);i.push(o)}for(t.points(u.xp),t.syncedPoints(u.points),f=0;f<i.length;f++)a(i[f]);h();k();typeof r=="function"&&r()})},t.addShortcut=function(n){for(var u,e,r,t=0;t<n.length;t++){for(u=!1,r=0;r<i.length;r++)if(i[r].lessonID==n[t].lessonID){u=!0;i.splice(r,1,n[t]);break}for(u||i.push(n[t]),f.push(n[t]),e=n[t].quizzes,r=0;r<e.length;r++)o.push(e[r]);a(n[t])}h();k();p()},v=!1,y=!1,t.consumePoints=function(n,i,r){var u=t.points(),f;return u>=i?(f={quizID:n,points:i,action:r},t.points(u-i),l.push(f),p(),!0):!1},t.reset=function(){var f,r;t.points(0);t.syncedPoints(0);t.isCompleted(!1);t.percent(0);i=[];for(f in c)r=c[f],r.points(0),r.activeQuizAttempt(1),r.activeQuizFrozenAttempt(1),r.activeQuizID=0,r.isStarted(!1),r.isUnlocked=!1,r.progressPercent(0),r.visualState(n.models.ProgressState.Disabled);for(f in e)r=e[f],r.passedLessons(0),r.passedItems(0),r.visualState(n.models.ProgressState.Disabled);h();w(u[0],e["m"+u[0].id])},t}(app,window);app.models=function(n){var t={},h={modules:{create:function(n){return new t.Module(n.data,n.parent)}}},c={lessons:{create:function(n){return new t.Lesson(n.data,n.parent)}}},s={quizzes:{create:function(n){for(var r=new t.Quiz(n.data,n.parent),u=r.answers(),i=0;i<u.length;i++)u[i].id=i;return r}}},l={answers:{create:function(n){return new t.Answer(n.data,n.parent)}}},f=function(){var t={};for(var n in this)t["m"+this[n]]=n[0].toLocaleLowerCase()+n.substr(1);this.getName=function(n){return t["m"+n]}},r={Disabled:1,Active:2,Normal:3},o,u,e,i;return f.apply(r),o={None:0,Center:1,Left:2,Right:2},f.apply(o),u={Checkpoint:0,Quiz:1},f.apply(u),e={None:0,Text:1,TextAndVideo:2,Video:3,VideoAndText:4},f.apply(e),i={MultipleChoice:1,TypeIn:2,PlaceholderTypeIn:3,StrikeOut:4,ImageChoice:5,PlaceholderDragAndDrop:6,PlaceholderImageDragAndDrop:7,Reorder:8,ImageReorder:9},f.apply(i),t.ProgressState=r,t.LessonType=u,t.LessonMode=e,t.QuizType=i,t.Course=function(n){var t=this;this.id=0;this.name=ko.observable("");this.version=0;this.icon=ko.observable("");this.color=ko.observable("transparent");this.modules=ko.observable([]);this.glossary=ko.observable([]);this.tags=ko.observable(null);this.encodedTags=ko.computed(function(){return encodeURIComponent(t.tags())});this.update=function(n){ko.mapping.fromJS(n,h,this)};typeof n!="undefined"&&this.update(n)},t.Module=function(t,i){this.id=0;this.name=ko.observable("");this.alignment=ko.observable("");this.skipPrice=0;this.hintPrice=0;this.lessons=ko.observable([]);this.course=i;this.allowShortcut=ko.observable();this.state=ko.computed({read:function(){return n.Progress.getModuleState(this)},deferEvaluation:!0},this);this.stateClass=ko.computed({read:function(){return r.getName(this.state().visualState())},deferEvaluation:!0},this);this.iconSource=ko.computed(function(){return n.downloadHost+"Modules/"+this.course.id+"/"+this.id+(this.state().visualState()==r.Disabled?"_disabled":"")+".png"},this);this.alignmentClass=ko.computed(function(){return o.getName(this.alignment())},this);this.lessonCount=ko.computed(function(){for(var t=this.lessons(),i=0,n=0;n<t.length;n++)t[n].type()==u.Checkpoint&&i++;return i},this);this.update=function(n){ko.mapping.fromJS(n,c,this)};typeof t!="undefined"&&this.update(t)},t.Lesson=function(t,i){var o=this,f;this.id=0;this.name=ko.observable("");this.isShortcut=ko.observable(!1);this.quizCount=ko.observable(0);this.number=ko.observable(0);this.color=ko.observable(null);this.quizzes=ko.observable([]);this.tags=ko.observable(null);this.encodedTags=ko.computed(function(){return encodeURIComponent(o.tags())});this.isLoaded=ko.computed(function(){return this.quizzes().length>0},this);this.videoID="";this.videoDuration=0;this.videoDurationText=ko.computed(function(){return n.convert.secondsToTime(this.videoDuration)},this);this.module=i;this.type=ko.observable(u.Checkpoint);this.mode=ko.observable(e.None);this.modeClass=ko.computed(function(){return e.getName(this.mode())},this);this.typeClass=ko.computed(function(){return u.getName(this.type())},this);this.state=ko.computed({read:function(){return n.Progress.getLessonState(this)},deferEvaluation:!0},this);this.stateClass=ko.computed({read:function(){return r.getName(this.state().visualState())},deferEvaluation:!0},this);this.rating=ko.computed({read:function(){return Math.round(this.state().points()*3/5)},deferEvaluation:!0},this);typeof t!="undefined"&&ko.mapping.fromJS(t,s,this);f=null;this.load=function(t){o.isLoaded()?typeof t=="function"&&t():(f==null&&(f=$.Deferred(),n.WS.request("GetLesson",{lessonID:o.id},function(n){n.lesson&&ko.mapping.fromJS(n.lesson,s,o);f.resolve();f=null})),typeof t=="function"&&f.done(t))};this.quizzes.subscribe(function(n){n.splice=function(){console.log("somebody spliced :D")};n.pop=function(){console.log("somebody poped :D")}})},t.Quiz=function(n,t){this.id=0;this.question="";this.time=0;this.type=ko.observable(0);this.answers=ko.observable([]);this.answer=ko.computed(function(){return this.answers()[0]},this);this.linkedVideoID="";this.videoStart=0;this.videoEnd=0;this.textContent=ko.observable();this.videoLength=ko.computed({read:function(){return videoEnd-videoStart},deferEvaluation:!0},this);this.typeName=ko.computed(function(){return i.getName(this.type())},this);var r=null;this.tipText=ko.computed({read:function(){if(!r){var n=this.type();if(n==i.StrikeOut)return"Tap to delete the wrong answers";if((n==i.MultipleChoice||n==i.ImageChoice)&&this.isMultiple())return"Select all that apply"}return r},write:function(n){r=n},deferEvaluation:!0},this);this.hint="";this.isHintAvailable=ko.computed({read:function(){var n=this.type();return this.hint||n==i.PlaceholderTypeIn||n==i.TypeIn},deferEvaluation:!0},this);this.isVideoAvailable=ko.computed({read:function(){return this.lesson.type()==u.Checkpoint||this.linkedVideoID!=null},deferEvaluation:!0},this);this.questionText=ko.computed({read:function(){var n=this.type(),t="",u,r;return n==i.PlaceholderTypeIn||n==i.PlaceholderDragAndDrop||n==i.PlaceholderImageDragAndDrop?(u=/\[!([a-zA-Z0-9]+)!\].*/gi,r=u.exec(this.question),t=r?this.question.substring(0,r.index).trim():this.question):t=this.question,t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,"<br/>")},deferEvaluation:!0},this);this.isMultiple=ko.computed({read:function(){for(var t=this.answers(),i=0,n=0;n<t.length;n++)t[n].isCorrect&&i++;return i>1},deferEvaluation:!0},this);this.correctAnswers=ko.computed({read:function(){for(var t=this.answers(),i=[],n=0;n<t.length;n++)t[n].isCorrect&&i.push(t[n]);return i},deferEvaluation:!0},this);this.hintPrice=0;this.skipPrice=0;this.lesson=t;typeof n!="undefined"&&ko.mapping.fromJS(n,l,this)},t.Answer=function(n,t){this.id=0;this.text="";this.isCorrect=!1;this.properties={};this.quiz=t;typeof n!="undefined"&&ko.mapping.fromJS(n,{},this)},t.Comment=function(){var n=this;this.id=0;this.parentId=null;this.number=0;this.message=ko.observable("").extend({required:"*Please enter message."});this.message.hasError(!1);this.replacedMessage=ko.observable("");this.votes=ko.observable(0);this.vote=ko.observable(0);this.date=ko.observable("");this.replies=ko.observable(0);this.repliesLabel=ko.computed(function(){return n.replies()==1?" Reply":" Replies"});this.commentReplies=ko.observableArray();this.loadedRepliesCount=ko.observable(0);this.isForcedDown=ko.observable(!1);this.userId=0;this.userName=ko.observable("");this.email=ko.observable("");this.hasAvatar=ko.observable(!1)},t.LessonState=function(){var n=this;this.points=ko.observable(0);this.activeQuizAttempt=ko.observable(1);this.activeQuizFrozenAttempt=ko.observable(1);this.activeQuizID=0;this.isStarted=ko.observable(!1);this.isUnlocked=!1;this.progressPercent=ko.observable(0);this.visualState=ko.observable(r.Disabled);this.updateFrozen=function(){n.activeQuizFrozenAttempt(n.activeQuizAttempt())};this.lesson=null},t.ModuleState=function(){this.passedLessons=ko.observable(0);this.totalLessons=ko.observable(0);this.passedItems=ko.observable(0);this.totalItems=ko.observable(0);this.progress=ko.computed(function(){return this.totalItems==0?0:100*this.passedItems/this.totalItems},this);this.hasLessons=ko.computed(function(){this.totalLessons>0},this);this.visualState=ko.observable(r.Disabled)},t.LessonProgress=function(){this.lessonID=0;this.score=0;this.bestScore=0;this.attempt=0;this.isStarted=!1;this.isCompleted=!1;this.activeQuizID=0;this.quizzes=[]},t.QuizProgress=function(){this.quizID=0;this.score=0;this.attempt=0;this.time=0;this.isCompleted=!1},t.User=function(n){var t=this;this.id=ko.observable(0);this.name=ko.observable("");this.email=ko.observable("");this.hasAvatar=ko.observable(!1);this.update=function(n){typeof n!="undefined"&&ko.mapping.fromJS(n,{},t)};this.update(n)},t.PointExchangeTypes={Hint:1,Skip:2},t}(app,window);app.WS=function(n){function a(t){u=t;n.Storage.save("DeviceUniqueID",t)}function c(t){i=t;n.Storage.save(n.clientID+"SessionID",t)}function v(){return u=n.Storage.load("DeviceUniqueID"),i=n.Storage.load(n.clientID+"SessionID"),o()}function o(){var f=n.dontSync?"/Play/GetSessionHOC":"/Play/GetSession",r=$.Deferred();return $.ajax({url:f,type:"POST",dataType:"json",data:{clientID:n.clientID,deviceID:u,sessionID:i,appVersion:"0.0.0.1"},cache:!1,success:function(n){var f,e,u,s;if(n.Error)i&&(c(""),o().done(function(){r.resolve()}));else{typeof n.SessionId=="string"&&c(n.SessionId);typeof n.UniqueId=="string"&&a(n.UniqueId);f=n.User;e={};for(u in f)s="",s=u.length<=2?u.toLowerCase():u.substr(0,1).toLowerCase()+u.substr(1),e[s]=f[u];t.onUserUpdate(e);r.resolve()}},error:function(){}}),r}function y(t,r,f,e){return console.log("WCF Request: "+t),$.ajax({url:n.host+t,type:"POST",contentType:"application/json",headers:{clientID:n.clientID,sessionID:i,deviceID:u},dataType:"json",data:JSON.stringify(r||l),cache:!1,success:f,error:e})}function p(n,t,i,u){y(n,t,function(f,h,c){if(f.isSuccessful=!0,f.fault=e.None,typeof f.error=="object"){var l=f.error;if(f.isSuccessful=!1,l.isOperationFault=l.code==r.OperationFault,l.isOperationFault&&(f.fault=l.data),!u&&(l.code==r.DeviceRequired||l.code==r.UserRequired)){o(function(r){r?s(n,t,i,u):i(f,h,c)});return}}i(f,h,c)},function(){i({error:r.NoConnection,isSuccessful:!1,fault:e.None})})}function s(n,t,i,r){p(n,t,function(n,t,r){n.isSuccessful;typeof i=="function"&&i(n,t,r)},r)}var t={},r={Unknown:0,AuthenticationFailed:1,DeviceRequired:2,UserRequired:3,InsufficientRights:4,OperationFault:5,ArgumentMissing:6,EndpointNotFound:7,NoConnection:{code:0,name:"NoConnection",data:null,isOperationFault:!1}},e={None:0,WrongCredentials:1,NotActivated:2,IncorrectEmail:4,IncorrectName:8,ExistingEmail:16,IncorrectPassword:32,DeviceNotFound:64,SocialConflict:128},u,i,l,h,f;return t.Errors=r,t.Faults=e,t.onUserUpdate=function(){},u=null,i=null,l={},h=!0,f=null,t.request=function(n,t,i){h&&(f=v());f!=null?f.done(function(){h=!1;f=null;s(n,t,i)}):s(n,t,i)},t}(app,window);app.Youtube=function(){function r(){var i,u;t!="Ready"&&((i=(new Date).getTime(),t=="Loading"&&i-e<o)||(u=document.getElementsByTagName("head")[0],n!=null&&u.removeChild(n),n=document.createElement("script"),n.type="text/javascript",n.src="https://www.youtube.com/iframe_api",u.appendChild(n),window.onYouTubeIframeAPIReady=s,e=i,t="Loading",setTimeout(r,o+1e3)))}function s(){for(var n=0;n<i.length;n++)new f(i[n].node,i[n].events);i=null;t="Ready"}var u={},t="NotLoaded",i=[],f=function(n,t){function f(n,i){typeof t[n]=="function"&&t[n].call(r,i)}function e(n){i=n.target;f("ready",n)}function o(n){var t=n.data;f("stateChange",n.data);i.getCurrentTime()<u.start-2&&(i.seekTo(u.start),i.pauseVideo())}function s(n){f("error",n)}var r=this,i=null,u={id:"",start:0,end:0};r.isInitialized=function(){return i!=null};r.player=function(){return i};r.load=function(n,t,r,f){try{u.id=n;u.start=t;u.end=r;i[f?"loadVideoById":"cueVideoById"]({videoId:n,startSeconds:t,endSeconds:r})}catch(e){}};r.play=function(){try{i.playVideo()}catch(n){}};r.pause=function(){try{i.pauseVideo()}catch(n){}};r.toggle=function(){try{var n=i.getPlayerState();return n==YT.PlayerState.PLAYING?(i.pauseVideo(),!1):(i.playVideo(),!0)}catch(t){}};r.stop=function(){try{i.stopVideo();i.clearVideo()}catch(n){}};r.seek=function(n){try{i.seekTo(u.start+n,!0)}catch(t){}};r.seconds=function(){try{var n=i.getCurrentTime();return n-u.start}catch(t){return 0}};r.mute=function(n){try{return n==!0?i.mute():n==!1&&i.unMute(),i.isMuted()}catch(t){return!1}};r.volume=function(n){try{return n&&i.setVolume(n),i.getVolume()||100}catch(t){return 100}};r.destroy=function(){try{r.stop();i.destroy()}catch(n){}};r.setSize=function(n,t){try{i.setSize(n,t)}catch(r){}};new YT.Player(n,{width:app.width,height:app.width/16*9,playerVars:{controls:0,rel:0,showinfo:0,modestbranding:0,iv_load_policy:3,wmode:"transparent",playsinline:1},events:{onReady:e,onStateChange:o,onError:s}})},n=null,e=null,o=4e3;return u.create=function(n,u){t=="Ready"?new f(n,u):(i.push({node:n,events:u}),r())},r(),u}();app.ViewModel=function(){function t(n,i,r){if(n.length==0){r(i);return}var u=n[0];u.load(function(){for(var e=u.quizzes(),f=0;f<e.length;f++)i.push(e[f]);t(n.slice(1),i,r)})}var n,i;app.models.Course.call(this);this.module=ko.observable();this.lesson=ko.observable();this.moduleItems=ko.observable();this.quizIndex=0;this.comment=ko.observable(new app.CommentViewModel(this));this.video=ko.observable(new app.VideoViewModel(this));this.quiz=ko.observable(new app.QuizViewModel(this));this.text=ko.observable(new app.TextViewModel(this));this.texts=app.texts;this.profile=new app.ProfileViewModel;this.lesson.subscribe(function(t){if(t!=null){n.quizIndex=0;var i=t.state();i.isStarted()&&t.load(function(){var f,u,r;if(t.isLoaded())for(f=i.activeQuizID,u=t.quizzes(),r=0;r<u.length;r++)u[r].id==f&&(n.quizIndex=r)})}});this.icon("/Icons/Courses/"+app.courseID+"_web.png");this.color("#36ABCB");this.accentPalette=ko.observable(["#b2ff59","#76ff03","#64dd17"]);this.primaryPalette=ko.computed(function(){var n=app.util.parseHex(this.color());return[n.brightenString(.3),n.shiftedString(0),n.shiftedString(-20)]},this);this.arrowSrc=ko.computed(function(){var n=app.util.parseHex(this.color());return"/Play/arrow.png?r="+n.r+"&g="+n.g+"&b="+n.b},this);n=this;app.WS.request("GetCourse",null,function(t){var i,u,f,o,r,e;if(t.course){for(n.update(t.course),app.glossary=n.glossary(),i=n.modules(),u=0;u<i.length;u++)for(f=i[u].lessons(),o=1,r=0;r<f.length;r++)f[r].type()==0&&f[r].number(o++);e=i.slice();app.dontSync||e.push({isCertificate:!0,stateClass:i[i.length-1].stateClass});n.moduleItems(e);app.Progress.loadCourse(n);app.dontSync?(app.ViewService.navigate("modulesView"),app.ViewService.removeFromStack("splashView")):app.Progress.sync(function(){app.ViewService.navigate("modulesView");app.ViewService.removeFromStack("splashView")})}});i=[["#f44336","#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000"],["#e91e63","#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162"],["#9c27b0","#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff"],["#673ab7","#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea"],["#3f51b5","#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe"],["#2196f3","#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff"],["#03a9f4","#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea"],["#00bcd4","#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4"],["#009688","#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#a7ffeb","#64ffda","#1de9b6","#00bfa5"],["#4caf50","#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853"],["#8bc34a","#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17"],["#cddc39","#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00"],["#ffeb3b","#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00","#ffd600"],["#ffc107","#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00"],["#ff9800","#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180","#ffab40","#ff9100","#ff6d00"],["#ff5722","#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00"]];this.getModuleTemplate=function(n){return n.isShortcut?"module-shortcutTemplate":n.isCertificate?"module-certificateTemplate":"module-itemTemplate"};this.loadModule=function(t,i){if(t.isCertificate){app.ViewService.navigate("congratsView",i);return}t.state().visualState()!=app.models.ProgressState.Disabled&&(n.module(t),app.ViewService.navigate("lessonsView",i))};this.loadLesson=function(t,i){t.state().isUnlocked&&(n.lesson(t),app.ViewService.navigate(n.getQuizEntryView(),i))};this.loadVideo=function(n,t){app.ViewService.navigate("videoView",t)};this.loadText=function(n,t){app.ViewService.navigate("textView",t)};this.getQuizEntryView=function(){var t=n.lesson().mode(),i=n.lesson().type();return i==0&&t!=0?t==1||t==2?"textView":"videoView":"quizView"};this.navigateToCourse=function(n,t){app.ViewService.navigate("modulesView",t)};this.navigateToModule=function(t,i){n.lesson().isShortcut()?n.quiz().exitShortcut(app.texts.closeShortcut,app.texts.popupYes,app.texts.popupCancel,null):app.ViewService.navigate("lessonsView",i)};this.navigateFromCongrats=function(n,t){app.Progress.isCompleted()?window.location="/Courses/":app.ViewService.navigate("modulesView",t)};this.isBackVisible=ko.computed(function(){var n=app.ViewService.currentView();return n!=null&&["lessonsView","videoView","quizView","congratsView","textView"].indexOf(n.name)!=-1?!0:!1});this.navigateBack=function(){var t=app.ViewService.currentView();t!=null&&(t.name=="quizView"||t.name=="videoView"||t.name=="textView"?n.lesson().isShortcut()?n.quiz().exitShortcut(app.texts.closeShortcut,app.texts.popupYes,app.texts.popupCancel,null):(app.ViewService.navigate("lessonsView"),n.comment().comments.removeAll()):t.name=="lessonsView"||t.name=="congratsView"?app.ViewService.navigate("modulesView"):app.ViewService.goBack())};this.jumpAhead=function(i){var s=n.modules(),h=i,c=s.indexOf(h),r=new app.models.Lesson,o,e,f,u;for(r.name("Test Out"),r.type(1),r.state().isUnlocked=!0,r.isShortcut(!0),r.moduleId=i.id,o=[],e=0;e<c;e++)for(f=s[e].lessons(),u=0;u<f.length;u++)f[u].type()==1&&f[u].state().visualState()!=app.models.ProgressState.Normal&&o.push(f[u]);r.load=function(n){t(o,[],function(t){t.sort(function(){return.5-Math.random()});t.length>=10&&(t=t.slice(0,10));r.quizzes(t);r.quizCount(t.length);n()})};n.loadLesson(r)}};app.LessonViewModel=function(n,t){function r(){app.WS.request("GetTaggedQuestionCount",{tags:i.lesson().tags()},function(n){i.questionsCount(n.count)})}function u(){$.ajax({url:"/Play/GetCommentsCount",data:{quizId:i.quiz().id,type:t.isVideo?1:3},dataType:"json",type:"POST",success:function(n){i.commentsCount(n.count)}})}function f(){var u=[],e=i.lesson(),o=app.Progress.getLessonProgress(e.id),l=0,y=!1,a,n,v,c,r;if(o!=null){for(y=o.isCompleted||!1,a=!1,n=0;n<o.quizzes.length;n++)o.quizzes[n].isCompleted&&(l=n,a=!0);a&&l++}var s=e.quizzes(),b=i.quiz(),p=e.type()==app.models.LessonType.Checkpoint,w=t.isVideo,f=app.models.ProgressState,h=0;for(n=0;n<s.length;n++)v=(y||n<=l)&&!e.isShortcut(),c=s[n].id==b.id,c&&(h=p?n*2:n),p&&u.push({lessonID:e.id,quizID:s[n].id,isVideo:!0,state:c?w?f.Active:f.Normal:v?f.Normal:f.Disabled}),u.push({lessonID:e.id,quizID:s[n].id,isVideo:!1,state:c?w?f.Normal:f.Active:v?f.Normal:f.Disabled});return r=10,app.width<800&&(r=Math.floor(r/800*app.width),r=Math.ceil(r/2)*2),u.length>r&&(h<r/2+2?u.splice(r,u.length-r):h>u.length-(r/2+1)?u.splice(0,u.length-r):(u.splice(0,h-r/2),u.splice(r,u.length-r))),u}var i=this;this.course=n;this.lesson=ko.observable();this.quiz=ko.observable().extend({notify:"always"});this.quizIndex=ko.observable(0);this.isReady=!1;this.timeline=ko.observable([]);this.commentsCount=ko.observable();this.disableCommentButton=ko.observable(!1);this.showComments=ko.observable(!1);this.questionsCount=ko.observable(0);t.isVideo=t.isVideo||!1;t.callIfFunction=function(n){typeof n=="function"&&n()};t.prepare=function(n){var e,o;i.isReady=!1;e=i.course.lesson();i.lesson(e);o=i.course.quizIndex;i.quizIndex(o);e.isLoaded()?(i.quiz(e.quizzes()[o]),i.timeline(f()),t.callIfFunction(n),i.isReady=!0,i.lesson().tags()!=null?r():i.questionsCount(0),app.dontSync||u()):(i.quiz(null),i.timeline([]),e.load(function(){e.isLoaded()&&(o=i.course.quizIndex,i.quizIndex(o),i.quiz(e.quizzes()[o]),i.timeline(f()),t.callIfFunction(n),i.isReady=!0,i.lesson().tags()!=null?r():i.questionsCount(0),app.dontSync||u())}))};this.loadLessonLink=function(n){var r,s;if(n.state==app.models.ProgressState.Normal){var u=0,o=i.lesson().quizzes(),f=i.lesson().mode(),e="";for(r=0;r<o.length;r++)if(o[r].id==n.quizID){u=r;break}s=i.course.quizIndex<u||i.course.quizIndex==u&&!n.isVideo&&t.isVideo;i.course.quizIndex=u;f==1||f==2?e="textView":(f==3||f==4)&&(e="videoView");i.quiz().id!=n.quizID&&i.course.comment().comments.removeAll();app.ViewService.navigate(n.isVideo?e:"quizView",{navigationMode:s?"forward":"backward"})}};this.loadComments=function(){var r=i.quiz().id,u=t.commentType==2?1:t.commentType,n=i.course.comment();n.quizId(r);n.type(u);n.loadComments();i.disableCommentButton(!0)};this.baseOnNavigatingTo=function(){this.showComments(!0);this.disableCommentButton(!1)};this.baseOnNavigatedTo=function(){this.showComments(!0);this.disableCommentButton(!1);i.course.comment().reset()};this.baseOnNavigatedFrom=function(){this.showComments(!1);$("#replyBox").length>0&&$("#replyBox").remove();i.course.comment().reset()}};app.VideoViewModel=function(n){function a(){if(i!=null){var n=i.seconds();Math.abs(n-t.currentSeconds())>5&&h<4?(h++,console.log("video skip "+n)):(console.log("video: "+n),t.currentSeconds(n),h=0)}}function l(){var r=t.lesson(),n=t.quiz(),u=$("#videoPlayer");app.Youtube.create($("<div/>").appendTo(u)[0],{ready:function(){i=this;var u=r.type()==app.models.LessonType.Checkpoint?r.videoID:n.linkedVideoID;this.load(u,n.videoStart,n.videoEnd,t.inPlayMode());i.mute()?t.muteToggle(!0):t.volume(i.volume())},stateChange:function(n){n==YT.PlayerState.ENDED&&t.skipVideo();t.inPlayMode(n==YT.PlayerState.PLAYING||n==YT.PlayerState.BUFFERING)}})}var t=this,c={isVideo:!0,commentType:2},f,r,e;app.LessonViewModel.call(this,n,c);this.videoSeconds=ko.computed(function(){var n=t.quiz();return n?n.videoEnd-n.videoStart:0},this);this.videoDuration=ko.pureComputed(function(){return app.convert.secondsToTime(Math.round(this.videoSeconds()),!0)},this);this.videoPercent=ko.pureComputed(function(){return 100*this.currentSeconds()/this.videoSeconds()},this);this.currentSeconds=ko.observable(0);this.videoTime=ko.pureComputed(function(){return app.convert.secondsToTime(Math.round(this.currentSeconds()),!0)},this);f=0;r=!1;this.volume=ko.observable(100);this.volumeClass=ko.computed(function(){var n=this.volume();return n==0?"mute":n<25?"min":n<50?"medium":"max"},this);this.volume.subscribe(function(n){i&&i.volume(n)});this.muteToggle=function(n){i&&(n==!0?(i.mute(!0),r||(f=t.volume()),r=!0,t.volume(0)):n==!1?(i.mute(!1),r&&t.volume(f),r=!1):t.muteToggle(!r),console.log("m:"+n+" uv:"+f+" im:"+r))};var i=null,o=!1,s=!1,u=null,h=0;this.onNavigatingTo=function(){var i=t.course.comment().comments(),n;if(i.length>0)for(n=0;n<i.length;n++)i[n].loadedRepliesCount()>0&&(i[n].commentReplies.removeAll(),i[n].loadedRepliesCount(0));t.baseOnNavigatingTo();o=!1;s=!1;c.prepare(function(){o?l():s=!0})};this.onNavigatedTo=function(){t.baseOnNavigatedTo();o=!0;this.inPlayMode(!1);s&&l();u==null&&(u=setInterval(a,500))};this.onNavigatedFrom=function(){t.baseOnNavigatedFrom();i!=null&&i.stop();u!=null&&(clearInterval(u),u=null);t.currentSeconds(0)};this.inPlayMode=ko.observable(!0);this.skipVideo=function(n,t){app.ViewService.navigate("quizView",t)};this.playPause=function(){i!=null?i.toggle():t.inPlayMode(!t.inPlayMode())};e=!1;this.seekStart=function(){console.log("video seek start");e=t.inPlayMode();e&&i.pause()};this.seekVideo=function(n){var r=t.videoSeconds()*n/100;console.log("video seek "+r);t.currentSeconds(r);i.seek(r);e&&i.play()};$(window).on("afterResize",function(){i!=null&&i.setSize(app.width,app.width/16*9)})};app.TextViewModel=function(n){function e(){var n=t.lesson(),i=$("#textContent")}var t=this,u={isVideo:!0,commentType:1},i,r,f;app.LessonViewModel.call(this,n,u);i=!1;r=!1;this.onNavigatingTo=function(){var f=t.course.comment().comments(),n;if(f.length>0)for(n=0;n<f.length;n++)f[n].loadedRepliesCount()>0&&(f[n].commentReplies.removeAll(),f[n].loadedRepliesCount(0));t.baseOnNavigatingTo();i=!1;r=!1;u.prepare(function(){i?e():r=!0})};this.onNavigatedTo=function(){t.baseOnNavigatedTo()};this.onNavigatedFrom=function(){t.baseOnNavigatedFrom()};this.loadTooltip=function(n){var t=$(this),i=n.target,u,f,r;app.isMobile?t.hasClass("open")?(u=$(this).parents("#textContent").offset(),f=n.pageY-u.top,f>i.offsetTop+i.offsetHeight&&(t.removeClass("open"),t.removeClass("left"))):(r=$(".tooltip"),r.removeClass("open"),r.removeClass("left"),t.offset().left+230>$(window).width()&&t.addClass("left"),t.addClass("open")):i.offsetLeft+230>$("#app").width()&&t.addClass("left")};f=function(n,t){var i=$(t.target),r,u,f;i.hasClass("tooltip")||(r=$(".tooltip"),r.removeClass("open"),r.removeClass("left"),i.hasClass("runCode")&&(u=i.attr("href"),f=window.open(u,"_blank")))};this.closeTooltips=app.isMobile?f:null;this.openTooltips=function(){};this.skipText=function(n,t){app.ViewService.navigate("quizView",t)}};app.CommentViewModel=function(n){function nt(n){var u=n.date(),t=moment.utc(u),i=moment.utc(new Date),r="",f=i.diff(t,"weeks");r=f>4?moment(t.toDate()).format("Do MMMM YYYY, h:mm A"):i.diff(t)<0?"a few seconds ago":moment(moment.utc(t.toDate())).fromNow();n.date(r)}function c(n){var t=n.message();t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;");t=t.replace(/((https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+()~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.()~#?&//=]*))/gi,function(n,t){var i=t,u=t.indexOf("http")==0,r;if(!u){if(r=t.indexOf("www")==0,!r)return t;i="http://"+t}return"<a href="+i+' target="_blank" class="postLink">'+t+"<\/a>"});n.replacedMessage(t)}function w(n){return ko.utils.arrayFirst(t.comments(),function(t){return n===t.id})}function et(n,t){return ko.utils.arrayFirst(t,function(t){return n===t.votes()})}function d(n){p(n,!1);rt()}function it(n,t,u,f,e,o){o?(i.detach().appendTo("#app"),i.toggleClass("newComment",o)):r.has(i).length==0&&i.detach().appendTo("#comments");s=!0;k=u||10;l.val(e).trigger("change");i.velocity("stop").addClass("open");i.removeAttr("style").css({top:n+"px",marginLeft:(t||0)+"px"});i.velocity({translateY:[0,k],opacity:[1,0]},{easing:"ease",delay:f||0});s=!0}function rt(n){(r.removeClass("expanded"),s)&&(s=!1,i.velocity({translateY:[k,0],opacity:[0,1]},{easing:"ease",complete:function(){ut();typeof n=="function"&&n()}}))}function ut(){s=!1;i.removeClass("open");f.find(".elevated").removeClass("elevated");r.removeClass("expanded");i.hasClass("newComment")&&(r.removeClass("scaled"),i.removeClass("newComment"),e.fadeIn(),$(".commentsFilter, #comments").unwrap())}function ft(n){tt=n;n==0&&(l.attr("placeholder","Write your comment here"),b.text("Comment"));n==1&&(l.attr("placeholder","Write your reply here"),b.text("Reply"))}function p(n,t){u!=null&&(u.removeClass("edit"),typeof n!="undefined"&&(t?c(n):n.message(y)),u=null,g=null)}var t=this,o,a,v,h;t.quizId=ko.observable(0);t.type=ko.observable();t.comments=ko.observableArray();t.commentsFilter=[{name:"Most Popular",id:1},{name:"Most Recent",id:2}];t.selectedField=ko.observable();o=1;t.selectedField.subscribe(function(n){if(n!=o&&t.isOpened()){o=n;var i=$("#comments");i.empty();t.comments.removeAll();$(document.body).velocity("scroll",{offset:document.body.scrollHeight,easing:"easeOutQuint"});t.loadComments()}});t.replyComment=ko.observable(new app.models.Comment);t.replyPrimaryComment=ko.observable(new app.models.Comment);t.isLoading=ko.observable(!1);t.isOpened=ko.observable(!1);this.addAnimation=function(n,t){var r=$(n).children(".comment"),i;r.addClass("hidden");i=Math.min(t*50,300)+"ms";i+=","+i+","+i;+ ','+i+","+i;r.css("-webkit-transition-delay",i).css("transition-delay",i);setTimeout(function(){r.removeClass("hidden")},50)};var r=null,f=null,i=null,l=null,b=null,e=$("#addComment");this.reset=function(){e.removeClass("show");t.removeEventListeners();t.isOpened(!1);o=1;t.selectedField(1)};this.defineContainers=function(){r=$("#commentsContainer");f=$("#comments");i=$("#replyBox");l=$("#replyText").flexText();b=$("#replyBox").find(".reply span")};this.removeEventListeners=function(){a!=null&&a.removeEvents()};a=null;this.loadComments=function(){t.isOpened()||(t.isOpened(!0),r.addClass("opened").addClass("loading"),$(document.body).velocity("scroll",{offset:document.body.scrollHeight,easing:"easeOutQuint"}));var n=function(n,r){function a(){var n=window.pageYOffset;n>=v&&b();t.isOpened()&&!i.hasClass("newComment")&&(app.isMobile?($.fn.offsetMobile=$.fn.offset,function(n){n.fn.offsetMobile=function(){var n=this.offset();return n.top-=window.scrollY,n.left-=window.scrollX,n}}(jQuery),s.height()-$("#comments").offsetMobile().top>$("#addComment").outerHeight(!0)?e.addClass("show"):e.removeClass("show")):e.offset().top>$("#comments").offset().top+$("#addComment").outerHeight(!0)?e.addClass("show"):e.removeClass("show"))}function b(){if(!u&&!l){u=!0;r.toggleClass("centerLoading",t.comments().length==0);r.toggleClass("loading",u);t.isLoading(u);var i=$.Deferred(),n=null,f=$.ajax({url:"/Play/LoadComments",data:{quizId:t.quizId(),parentId:null,type:t.type(),index:t.comments().length,orderBy:o},method:"post",dataType:"json",success:function(t){n=t},error:function(n){n.status==403&&app.ErrorPopup.open("Your session has expired. Please log-in again","LogIn",function(t){if(t){var i=$.parseJSON(n.responseText);window.location=i.logInUrl}})}});$.when(f,i).done(function(){var f,i;if(n!=null)if(n.comments=="")l=!0;else{for(f=0;f<n.comments.length;f++)i=new app.models.Comment,ko.mapping.fromJS(n.comments[f],{},i),c(i),nt(i),t.comments.push(i);window.layout.notifyResize()}u=!1;t.isLoading(u);r.toggleClass("loading",u)});setTimeout(i.resolve,1400)}}var s=$(window),h=this,v=0,y=0,w=0,p=0,u,l;if(this.invalidate=function(){var i,u,t;p=s.height();i=n.height();u=n.offset();v=i+u.top-p;t=n.children().length;r.toggleClass("empty",t==0);r.toggleClass("long",t>5);y=f.offset().top;w=f.height()+y;a()},s.scroll(a),u=!1,l=!1,t.isOpened()){s.resize(h.invalidate);layout.onResize(h.invalidate);this.invalidate()}this.removeEvents=function(){$(window).off("scroll",a);$(window).off("resize",h.invalidate);layout.offResize(h.invalidate)}};a=new n(f,r)};this.loadReplies=function(n,t){var r,e;if(d(n),$(t.target).hasClass("openReplies")&&n.loadedRepliesCount()>0){n.commentReplies.removeAll();n.loadedRepliesCount(0);return}var s=$(t.target),h=s.parents(".commentContainer"),f=h.find(".replies"),u=n.commentReplies;for(r=0;r<u().length;r++)e=u()[r],e.isForcedDown()&&n.loadedRepliesCount(n.loadedRepliesCount()-1);f.addClass("loading");var o=$.Deferred(),i=null,l=$.ajax({url:"/Play/LoadComments",data:{quizId:n.quizId(),parentId:n.id,type:n.type(),index:n.loadedRepliesCount(),orderBy:-1},method:"post",dataType:"json",success:function(n){i=n},error:function(n){n.status==403&&app.ErrorPopup.open("Your session has expired. Please log-in again","LogIn",function(t){if(t){var i=$.parseJSON(n.responseText);window.location=i.logInUrl}})}});$.when(l,o).done(function(){var e,o,t,r;if(i!=null){for(n.loadedRepliesCount(n.loadedRepliesCount()+i.comments.length),e=ko.utils.arrayFilter(u(),function(n){return!0===n.isForcedDown()}),o=0;o<i.comments.length;o++){for(t=new app.models.Comment,ko.mapping.fromJS(i.comments[o],{},t),c(t),nt(t),r=0;r<e.length;r++)e[r].id==t.id&&n.commentReplies.remove(e[r]);n.commentReplies.push(t)}window.layout.notifyResize()}f.removeClass("loading")});setTimeout(o.resolve,1400)};v=!0;this.voting=function(n,t){var e;if(v){v=!1;var r=$(t.target),u=r.parent(),f=0,i=parseInt(r.attr("data-value"));u.children().hasClass("active")&&(e=u.find(".active"),f=parseInt(e.attr("data-value")));r.hasClass("active")?i=0:u.find("div").removeClass("active");$.ajax({url:"/Play/CommentVoting",data:{commentId:n.id,vote:i},method:"post",dataType:"json",success:function(t){if(t.success){var r=n.votes()+i-f;n.vote(i);n.votes(r);v=!0}},error:function(n){n.status==403&&app.ErrorPopup.open("Your session has expired. Please log-in again","LogIn",function(t){if(t){var i=$.parseJSON(n.responseText);window.location=i.logInUrl}})}})}};var s=!1,k=0,tt=-1;h=null;this.reply=function(i,u){var a=$(u.target),l=a.closest(".commentContainer"),o=$(".commentContainer").length,e,s,c;o>=4&&($(".commentContainer").index(l)==o-1||$(".commentContainer").index(l)==o-2)&&(r.addClass("expanded"),$(document.body).velocity("scroll",{offset:document.body.scrollHeight,easing:"easeOutQuint"}));e=new app.models.Comment;e.userId=n.profile.id();e.userName(n.profile.name());e.hasAvatar(n.profile.hasAvatar());i.parentId==null?(t.replyPrimaryComment(w(i.id)),e.parentId=i.id):(t.replyPrimaryComment(w(i.parentId)),e.parentId=t.replyPrimaryComment().id);t.replyComment(e);ft(1);p(i,!1);f.find(".elevated").removeClass("elevated");h=$(u.target).parents(".comment");h.addClass("elevated");s="";c=8;i.parentId!=null&&(s="@"+i.userName()+" ",c=18);it(h.offset().top+h.outerHeight()-r.offset().top,c,-100,100,s,!1)};this.submitReply=function(){if(t.replyComment().message.hasError()||t.replyComment().message()==""){t.replyComment().message.hasError(!0);return}var n=t.replyComment().message().trim();t.replyComment().message(n);i.addClass("loading");$.ajax({url:"/Play/AddComment",data:{parentId:t.replyComment().parentId,quizId:t.quizId(),type:t.type(),message:t.replyComment().message()},method:"post",dateType:"json",success:function(n){var u,f,e;n.success&&(ut(),i.removeClass("loading"),t.replyComment().id=n.commentId,t.replyComment().date("a few seconds ago"),c(t.replyComment()),tt==0?(o==1&&t.comments().length>0?(u=t.comments().indexOf(et(0,t.comments())),u!=-1?t.comments.splice(u,0,t.replyComment()):t.comments.push(t.replyComment())):t.comments.splice(0,0,t.replyComment()),r.removeClass("scaled")):(t.replyComment().isForcedDown(!0),t.replyPrimaryComment().commentReplies.push(t.replyComment()),f=t.replyPrimaryComment().replies(),t.replyPrimaryComment().replies(f+1),e=t.replyPrimaryComment().loadedRepliesCount(),t.replyPrimaryComment().loadedRepliesCount(e+1)),window.layout.notifyResize())},error:function(n){n.status==403&&app.ErrorPopup.open("Your session has expired. Please log-in again","LogIn",function(t){if(t){var i=$.parseJSON(n.responseText);window.location=i.logInUrl}})}})};this.replyCancel=function(){rt()};this.addComment=function(n,i){var u=new app.models.Comment,e;u.userId=n.profile.id();u.userName(n.profile.name());u.hasAvatar(n.profile.hasAvatar());t.replyComment(u);e=$(i.target);r.addClass("scaled");e.removeClass("show");$(".commentsFilter, #comments").wrapAll('<div class="overlay">');ft(0);d();f.find(".elevated").removeClass("elevated");it(0,0,10,0,"",!0)};var u=null,g=null,y="";this.edit=function(n,t){d(n,!1);u=$(t.target).parents(".comment");u.css("-webkit-transition-delay","0ms, 0ms, 0ms, 0ms, 0ms").css("transition-delay","0ms, 0ms, 0ms, 0ms, 0ms");u.addClass("edit");var i=u.find(".editText");y=n.message();i.html("<textarea data-bind=\"value: message, valueUpdate: 'afterkeydown', attr: { class: message.hasError() ? message.className : '' }\"><\/textarea>");i.children().each(function(){ko.applyBindings(n,this)});g=i.children("textarea").val(y).flexText()};this.submitEdit=function(n){if(u!=null&&!n.message.hasError()){var t=n.message().trim();n.message(t);$.ajax({url:"/Play/EditComment",data:{commentId:n.id,message:n.message()},method:"post",dateType:"json",success:function(t){t.success&&(n.date("a few seconds ago"),y=g.val(),p(n,!0))},error:function(n){n.status==403&&app.ErrorPopup.open("Your session has expired. Please log-in again","LogIn",function(t){if(t){var i=$.parseJSON(n.responseText);window.location=i.logInUrl}})}})}};this.deleteComment=function(n,i){if(u!=null){var r=$(i.target),f=r.parents(".commentContainer");app.ConfirmPopup.open("Are you sure you want to delete this comment?","Yes","No",function(i){i&&$.ajax({url:"/Play/DeleteComment",data:{commentId:n.id},method:"post",dateType:"json",success:function(i){var r,e,o;i.success&&(n.parentId==null?(f.remove(),t.comments.remove(n)):(u.remove(),r=w(n.parentId),r.commentReplies.remove(n),e=r.replies(),r.replies(e-1),o=r.loadedRepliesCount(),r.loadedRepliesCount(o-1)),u=null,layout.notifyResize())},error:function(n){n.status==403&&app.ErrorPopup.open("Your session has expired. Please log-in again","LogIn",function(t){if(t){var i=$.parseJSON(n.responseText);window.location=i.logInUrl}})}})})}};this.editCancel=function(n){p(n,!1)}};app.QuizViewModel=function(n){function u(n,i,r,u,f){app.PopupService.showPrompt(r.replace("{points}",f),u,app.texts.popupCancel,function(r){r&&(app.Progress.consumePoints(t.quiz().id,f,n)?i():app.PopupService.showMessage(app.texts.hintNoEnoughPoints))})}var t=this,r={commentType:3},i;app.LessonViewModel.call(this,n,r);this.showCommentButton=ko.observable(!1);this.onNavigatingTo=function(){t.baseOnNavigatingTo();t.showCommentButton(!1);t.isChecked(!1);var i=!1,n=t.course.lesson();n.isShortcut()&&n!=t.lesson()&&(i=!0);t.isShortcut(n.isShortcut());r.prepare(function(){t.lesson().state().updateFrozen();i&&t.shortcutLives(Math.round(30*t.lesson().quizzes().length/100))})};this.onNavigatedTo=function(){t.course.comment().comments.removeAll();t.baseOnNavigatedTo()};this.onNavigatedFrom=function(){t.course.comment().comments.removeAll();t.baseOnNavigatedFrom()};this.applyQuizSkip=function(){u(app.models.PointExchangeTypes.Skip,this.skipQuiz(),app.texts.hintSkipConfirmText,app.texts.hintSkipConfirmApply,this.course.module().skipPrice)};this.applyQuizHint=function(){u(app.models.PointExchangeTypes.Skip,this.hintQuiz(),app.texts.hintHintConfirmText,app.texts.hintHintConfirmApply,this.course.module().hintPrice)};this.checkQuiz=ko.observable();this.hintQuiz=ko.observable();this.skipQuiz=ko.observable();this.isShortcut=ko.observable(!1);this.isChecked=ko.observable(!1);this.isCorrect=ko.observable(!1);this.shortcutLives=ko.observable(0);this.isShortcutCorrectCounts=0;this.check=function(){var n,i;t.isReady&&(n=t.checkQuiz()(),t.isCorrect(n),t.isChecked(!0),t.lesson().isShortcut()?(i=t.shortcutLives(),n?(t.isCorrect(n),t.isChecked(!0)):t.shortcutLives(--i)):app.Progress.addResult(t.lesson().id,t.quiz().id,n,0),app.Audio.play(n?app.Audio.Correct:app.Audio.Wrong),t.showCommentButton(!0))};this.continueQuiz=function(){var f=t.isCorrect(),e=t.lesson(),p,h,o,s,c,n,l,a,r,y,v,i,u;if(e.isShortcut())if(p=t.quiz(),t.isShortcutCorrectCounts=f?t.isShortcutCorrectCounts++:t.isShortcutCorrectCounts,t.shortcutLives()==0)this.exitShortcut(app.texts.shortcutFailed,app.texts.popupOk,null,null);else if(t.course.quizIndex<e.quizzes().length-1)t.course.quizIndex++,app.ViewService.navigate(f?t.course.getQuizEntryView():"quizView",{navigationMode:f?"forward":"backward"});else{for(h=t.isShortcutCorrectCounts*100/e.quizzes().length,o=null,o=h>=85?5:h>=75?4:3,u=t.course.modules(),i=[],n=0;n<u.length;n++){if(u[n].id==t.lesson().moduleId)break;for(s=u[n].lessons(),r=0;r<s.length;r++)s[r].state().visualState()!=app.models.ProgressState.Normal&&i.push(s[r])}for(c=[],n=0;n<i.length;n++)for(l={isStarted:!1,isCompleted:!0,attempt:1,bestScore:o,lessonID:i[n].id,score:o,activeQuizID:0,quizzes:[]},c.push(l),a=i[n].quizzes(),r=0;r<a.length;r++)y={attempt:1,isCompleted:!0,quizID:a[r].id,time:0420,score:o/i[n].quizCount},l.quizzes.push(y);app.Progress.addShortcut(c);this.exitShortcut(app.texts.shortcutSucceed,app.texts.popupOk,null,null)}else{if(f)if(t.course.quizIndex<e.quizzes().length-1)t.course.quizIndex++;else{v=t.course.module();i=v.lessons();i[i.length-1]==e?(u=t.course.modules(),u[u.length-1]==v?app.dontSync?app.ViewService.navigate("modulesView"):app.ViewService.navigate("congratsView"):app.ViewService.navigate("modulesView")):app.ViewService.navigate("lessonsView");return}app.ViewService.navigate(f?t.course.getQuizEntryView():"quizView",{navigationMode:f?"forward":"backward"})}};i=!1;this.exitShortcut=function(n,t,r,u,f){i||(i=!0,app.PopupService.showPrompt(n,t,r,function(n){i=!1;n&&u==null&&app.ViewService.navigate("modulesView",f)}))};this.backToVideo=function(){var n=t.lesson().mode(),i="";i=n==1||n==2?"textView":"videoView";app.ViewService.navigate(i,{navigationMode:"backward"})}};app.ProfileViewModel=function(){var n=this;app.models.User.call(this);app.WS.onUserUpdate=function(t){n.update(t)};this.resetProgress=function(){if(app.isMobile){$(document.body).removeClass("contextMenu");var n=$("#sidebar #profile");$(".fixedProfile").remove();n.removeClass("hide")}app.PopupService.showPrompt(app.texts.resetProgressConfirmText,app.texts.popupOk,app.texts.popupCancel,function(n){n&&app.WS.request("ResetProgress",null,function(){app.Progress.reset();app.ViewService.navigate("modulesView")})})}}	Í £ë      \|ÑÑ\|ÑÑ@Ù^Y¸   Y    :https://www.sololearn.com/Scripts/AppCore?v=3tbMjhl9aK3WjlyS3TseUpWr2l6W00WX07tbH-n9xYc1 necko:classified 1 strongly-framed 1 security-info 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 request-method GET request-User-Agent Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:65.0) Gecko/20100101 Firefox/65.0 response-head HTTP/1.1 200 OK
Cache-Control: public
Content-Type: text/javascript; charset=utf-8
Expires: Fri, 28 Feb 2020 13:50:49 GMT
Last-Modified: Thu, 28 Feb 2019 13:50:49 GMT
Vary: User-Agent
Server: Microsoft-IIS/8.0
X-AspNet-Version: 4.0.30319
X-Powered-By: ASP.NET
Date: Thu, 28 Feb 2019 13:50:48 GMT
Content-Length: 96226
 original-response-headers Cache-Control: public
Content-Type: text/javascript; charset=utf-8
Expires: Fri, 28 Feb 2020 13:50:49 GMT
Last-Modified: Thu, 28 Feb 2019 13:50:49 GMT
Vary: User-Agent
Server: Microsoft-IIS/8.0
X-AspNet-Version: 4.0.30319
X-Powered-By: ASP.NET
Date: Thu, 28 Feb 2019 13:50:48 GMT
Content-Length: 96226
 uncompressed-len 0 net-response-time-onstart 983 net-response-time-onstop 1352  wâ